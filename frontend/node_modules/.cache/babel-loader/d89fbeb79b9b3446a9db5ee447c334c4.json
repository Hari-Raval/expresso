{"ast":null,"code":"import _regeneratorRuntime from\"/Users/spoiledhua/Desktop/expresso/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/spoiledhua/Desktop/expresso/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/spoiledhua/Desktop/expresso/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/spoiledhua/Desktop/expresso/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/spoiledhua/Desktop/expresso/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/spoiledhua/Desktop/expresso/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/spoiledhua/Desktop/expresso/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import{Menu,Icon,Container,Header,Grid,Dimmer,Modal,Loader,Button,Checkbox,Responsive,Card,Image,Sidebar,Segment}from'semantic-ui-react';import BaristaHeader from'./BaristaHeader';import AddItem from'./AddItem';import*as inventory from'../Assets/inventory.png';import{changeStock,deleteItem,loadInventory,checkAdmin}from'../Axios/axios_getter';var BaristaInventory=/*#__PURE__*/function(_React$Component){_inherits(BaristaInventory,_React$Component);function BaristaInventory(props){var _this;_classCallCheck(this,BaristaInventory);_this=_possibleConstructorReturn(this,_getPrototypeOf(BaristaInventory).call(this,props));_this.state={admin:false,deniedActive:false,addActive:false,editActive:false,deleteConfirm:false,toDelete:null,loading:false,drinks:[],food:[],add:[],transitionAdd:false,transitionDelete:false};_this.componentDidMount=function(){_this.setState({loading:true});checkAdmin(JSON.parse(localStorage.getItem('token'))).then(function(res){_this.setState({admin:res.status});});setTimeout(_this.getItems,1000);_this.intervalId=setInterval(_this.getItems,10000);};_this.componentWillUnmount=function(){clearInterval(_this.intervalId);};_this.toggleOnAdd=function(){_this.setState({transitionAdd:true});_this.timeoutAdd=setTimeout(function(){_this.setState({transitionAdd:false});},3000);};_this.toggleOnDelete=function(){_this.setState({transitionDelete:true});_this.timeoutDelete=setTimeout(function(){_this.setState({transitionDelete:false});},3000);};_this.getItems=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return loadInventory(JSON.parse(localStorage.getItem('token'))).then(function(menu){var allItems=[];var drinks=[];var food=[];var addons=[];for(var i=0;i<menu.length;i++){var current=menu[i];if(current.category==='Drink'&&!allItems.includes(current.item)){var newItem={name:current.item,availability:current.availability};drinks.push(newItem);allItems.push(current.item);}else if(current.category==='Food'&&!allItems.includes(current.item)){var _newItem={name:current.item,availability:current.availability};food.push(_newItem);allItems.push(current.item);}else if(current.category==='Add'&&!allItems.includes(current.item)){var _newItem2={name:current.item,availability:current.availability};addons.push(_newItem2);allItems.push(current.item);}}_this.setState({drinks:drinks});_this.setState({food:food});_this.setState({add:addons});});case 2:_this.setState({loading:false});case 3:case\"end\":return _context.stop();}}},_callee);}));_this.handleAddClick=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_this.setState({loading:true});if(!(_this.state.admin==='False')){_context2.next=5;break;}_this.setState({deniedActive:true});_context2.next=7;break;case 5:_context2.next=7;return _this.setState({addActive:true});case 7:_this.setState({loading:false});case 8:case\"end\":return _context2.stop();}}},_callee2);}));_this.handleAddClose=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_this.setState({loading:true});_context3.next=3;return _this.setState({addActive:false});case 3:_this.setState({loading:false});case 4:case\"end\":return _context3.stop();}}},_callee3);}));_this.handleDeleteClick=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(item){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_this.setState({loading:true});if(!(_this.state.admin==='False')){_context4.next=5;break;}_this.setState({deniedActive:true});_context4.next=9;break;case 5:_context4.next=7;return _this.setState({toDelete:item});case 7:_context4.next=9;return _this.setState({deleteConfirm:true});case 9:_this.setState({loading:false});case 10:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x){return _ref4.apply(this,arguments);};}();_this.deleteItemSubmit=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_this.setState({loading:true});_context5.next=3;return deleteItem(_this.state.toDelete,JSON.parse(localStorage.getItem('token')));case 3:_this.setState({toDelete:null});_this.setState({deleteConfirm:false});_context5.next=7;return _this.getItems();case 7:_this.toggleOnDelete();_this.setState({loading:false});case 9:case\"end\":return _context5.stop();}}},_callee5);}));_this.deleteItemClose=function(){_this.setState({deleteConfirm:false});};_this.handleCloseDenied=function(){_this.setState({deniedActive:false});};_this.handleDrinksMenuClick=function(e){window.scrollTo({top:_this.drinkRef.current.offsetTop+155,left:0,behavior:'smooth'});};_this.handleFoodMenuClick=function(e){window.scrollTo({top:_this.foodRef.current.offsetTop+183,left:0,behavior:'smooth'});};_this.handleAddOnsMenuClick=function(){window.scrollTo({top:_this.addonsRef.current.offsetTop+183,left:0,behavior:'smooth'});};_this.handleStockChange=function(item){_this.setState({loading:true});changeStock(item,JSON.parse(localStorage.getItem('token'))).then(function(availability){if(availability.category===\"Drink\"){for(var i=0;i<_this.state.drinks.length;i++){if(_this.state.drinks[i].name===availability.item){var current=_this.state.drinks;current[i].availability=availability.availability;_this.setState({drinks:current});}}}if(availability.category===\"Food\"){for(var _i=0;_i<_this.state.food.length;_i++){if(_this.state.food[_i].name===availability.item){var _current=_this.state.food;_current[_i].availability=availability.availability;_this.setState({food:_current});}}}if(availability.category===\"Add\"){for(var _i2=0;_i2<_this.state.add.length;_i2++){if(_this.state.add[_i2].name===availability.item){var _current2=_this.state.add;_current2[_i2].availability=availability.availability;_this.setState({add:_current2});}}}});_this.setState({loading:false});};_this.drinkRef=React.createRef();_this.foodRef=React.createRef();_this.addonsRef=React.createRef();_this.contextRef=React.createRef();return _this;}_createClass(BaristaInventory,[{key:\"render\",value:function render(){var _this2=this;var content=React.createElement(Grid,{stackable:true},React.createElement(Grid.Row,null,React.createElement(Grid.Column,{width:\"4\"}),React.createElement(Grid.Column,{width:\"9\"},React.createElement(Grid,{divided:\"vertically\"},React.createElement(Grid.Row,null,React.createElement(Image,{src:inventory,style:{marginTop:'-8%'}})),React.createElement(Grid.Row,null,React.createElement(Grid.Column,{width:\"1\"}),React.createElement(Grid.Column,{width:\"15\"},React.createElement(\"div\",{style:{height:'2em'}}),React.createElement(Grid,null,React.createElement(\"div\",{ref:this.drinkRef}),React.createElement(Grid.Row,null,React.createElement(Grid.Column,{width:\"1\"}),React.createElement(Grid.Column,{width:\"15\"},React.createElement(Header,{style:{'fontSize':'2em'}},\"DRINKS\"))),React.createElement(Grid.Row,null,React.createElement(Grid.Column,{width:\"1\"}),React.createElement(Grid.Column,{width:\"15\"},React.createElement(Grid,{divided:\"vertically\"},this.state.drinks.map(function(drink){return React.createElement(Grid.Row,{key:drink.name},React.createElement(Grid.Column,{width:\"7\"},React.createElement(\"h2\",null,drink.name)),React.createElement(Grid.Column,{width:\"6\"},React.createElement(Checkbox,{toggle:true,checked:drink.availability,label:\"In Stock\",onClick:function onClick(){return _this2.handleStockChange(drink.name);}})),React.createElement(Grid.Column,{width:\"3\"},React.createElement(Button,{circular:true,onClick:function onClick(){return _this2.handleDeleteClick(drink.name);},basic:true,color:\"black\"},\"Delete Item\")));})))),React.createElement(\"div\",{style:{height:'2em'}}),React.createElement(\"div\",{ref:this.foodRef}),React.createElement(Grid.Row,null,React.createElement(Grid.Column,{width:\"1\"}),React.createElement(Grid.Column,{width:\"15\"},React.createElement(Header,{style:{'fontSize':'2em'}},\"FOOD\"))),React.createElement(Grid.Row,null,React.createElement(Grid.Column,{width:\"1\"}),React.createElement(Grid.Column,{width:\"15\"},React.createElement(Grid,{divided:\"vertically\"},this.state.food.map(function(food){return React.createElement(Grid.Row,{key:food.name},React.createElement(Grid.Column,{width:\"7\"},React.createElement(\"h2\",null,food.name)),React.createElement(Grid.Column,{width:\"6\"},React.createElement(Checkbox,{toggle:true,checked:food.availability,label:\"In Stock\",onClick:function onClick(){return _this2.handleStockChange(food.name);}})),React.createElement(Grid.Column,{width:\"3\"},React.createElement(Button,{circular:true,onClick:function onClick(){return _this2.handleDeleteClick(food.name);},basic:true,color:\"black\"},\"Delete Item\")));})))),React.createElement(\"div\",{ref:this.addonsRef}),React.createElement(Grid.Row,null,React.createElement(Grid.Column,{width:\"1\"}),React.createElement(Grid.Column,{width:\"15\"},React.createElement(Header,{style:{'fontSize':'2em'}},\"ADD-ONS\"))),React.createElement(Grid.Row,null,React.createElement(Grid.Column,{width:\"1\"}),React.createElement(Grid.Column,{width:\"15\"},React.createElement(Grid,{divided:\"vertically\"},this.state.add.map(function(addon){return React.createElement(Grid.Row,{key:addon.name},React.createElement(Grid.Column,{width:\"7\"},React.createElement(\"h2\",null,addon.name)),React.createElement(Grid.Column,{width:\"6\"},React.createElement(Checkbox,{toggle:true,checked:addon.availability,label:\"In Stock\",onClick:function onClick(){return _this2.handleStockChange(addon.name);}})),React.createElement(Grid.Column,{width:\"3\"},React.createElement(Button,{circular:true,onClick:function onClick(){return _this2.handleDeleteClick(addon.name);},basic:true,color:\"black\"},\"Delete Item\")));}))))))))),React.createElement(Grid.Column,{width:\"2\"}),React.createElement(Grid.Column,{width:\"1\"})));return React.createElement(React.Fragment,null,React.createElement(Sidebar,{as:Header,direction:\"top\",width:\"very wide\",visible:this.state.transitionAdd,animation:\"overlay\",style:{'zIndex':'3'}},React.createElement(\"div\",{style:{height:'5vh'}}),React.createElement(Segment,{raised:true,textAlign:\"center\",style:{color:'white',fontFamily:'Avenir',background:'#EDAC86'}},\"Item added to the menu!\")),React.createElement(Sidebar,{as:Header,direction:\"top\",width:\"very wide\",visible:this.state.transitionDelete,animation:\"overlay\",style:{'zIndex':'3'}},React.createElement(\"div\",{style:{height:'5vh'}}),React.createElement(Segment,{raised:true,textAlign:\"center\",style:{color:'white',fontFamily:'Avenir',background:'#EDAC86'}},\"Item deleted from the menu!\")),React.createElement(Dimmer,{active:this.state.loading,inverted:true,page:true},React.createElement(Loader,{inverted:true},\"Loading\")),React.createElement(Modal,{open:this.state.addActive,style:{'maxHeight':'calc(100vh - 210px)','overflowY':'auto'}},React.createElement(Container,{style:{width:'720px'}},React.createElement(AddItem,{handleAddClose:this.handleAddClose,inventoryRefresh:this.getItems,toggleOnAdd:this.toggleOnAdd}))),React.createElement(Dimmer,{active:this.state.deleteConfirm,onClickOutside:this.deleteItemClose,page:true},React.createElement(Container,{style:{width:'720px'}},React.createElement(Card,{fluid:true},React.createElement(Card.Content,null,React.createElement(Header,{as:\"h3\",color:\"grey\"},\"Are you sure you want to permanently delete this item from the menu?\")),React.createElement(Button.Group,null,React.createElement(Button,{onClick:this.deleteItemClose},\"Cancel\"),React.createElement(Button,{negative:true,onClick:this.deleteItemSubmit},\"Delete\"))))),React.createElement(Dimmer,{active:this.state.deniedActive,onClickOutside:this.handleCloseDenied,page:true},React.createElement(Container,{style:{width:'720px'}},React.createElement(Card,{fluid:true},React.createElement(Card.Content,null,React.createElement(Header,{as:\"h3\",color:\"grey\"},\"Access denied\")),React.createElement(Button,{onClick:this.handleCloseDenied},\"Close Window\")))),React.createElement(BaristaHeader,{history:this.props.history}),React.createElement(Responsive,{minWidth:Responsive.onlyTablet.minWidth},React.createElement(\"div\",{style:{height:'12vh'}}),React.createElement(Menu,{vertical:true,secondary:true,fixed:\"left\",color:\"grey\",size:\"massive\",style:{'zIndex':'1'}},React.createElement(\"div\",{style:{height:'30vh'}}),React.createElement(Menu.Item,{onClick:this.handleAddClick},React.createElement(\"div\",{style:{height:'2vh'}}),React.createElement(Container,{textAlign:\"center\"},React.createElement(Header,{as:\"h2\"},React.createElement(Icon,{name:\"plus\"}),\"ADD ITEM\")),React.createElement(\"div\",{style:{height:'2vh'}})),React.createElement(Menu.Item,{onClick:this.handleDrinksMenuClick},React.createElement(\"div\",{style:{height:'2vh'}}),React.createElement(Container,{textAlign:\"center\"},React.createElement(Header,{as:\"h2\"},React.createElement(Icon,{name:\"coffee\"}),\"DRINKS\")),React.createElement(\"div\",{style:{height:'2vh'}})),React.createElement(Menu.Item,{onClick:this.handleFoodMenuClick},React.createElement(\"div\",{style:{height:'2vh'}}),React.createElement(Container,{textAlign:\"center\"},React.createElement(Header,{as:\"h2\"},React.createElement(Icon,{name:\"utensils\"}),\"FOOD\")),React.createElement(\"div\",{style:{height:'2vh'}})),React.createElement(Menu.Item,{onClick:this.handleAddOnsMenuClick},React.createElement(\"div\",{style:{height:'2vh'}}),React.createElement(Container,{textAlign:\"center\"},React.createElement(Header,{as:\"h2\"},React.createElement(Icon,{name:\"plus square outline\"}),\"ADD-ONS\")),React.createElement(\"div\",{style:{height:'2vh'}}))),content),React.createElement(Responsive,Responsive.onlyMobile,React.createElement(\"div\",{style:{height:'7vh'}}),content));}}]);return BaristaInventory;}(React.Component);export default BaristaInventory;","map":{"version":3,"sources":["/Users/spoiledhua/Desktop/expresso/frontend/src/Components/BaristaInventory.js"],"names":["React","Menu","Icon","Container","Header","Grid","Dimmer","Modal","Loader","Button","Checkbox","Responsive","Card","Image","Sidebar","Segment","BaristaHeader","AddItem","inventory","changeStock","deleteItem","loadInventory","checkAdmin","BaristaInventory","props","state","admin","deniedActive","addActive","editActive","deleteConfirm","toDelete","loading","drinks","food","add","transitionAdd","transitionDelete","componentDidMount","setState","JSON","parse","localStorage","getItem","then","res","status","setTimeout","getItems","intervalId","setInterval","componentWillUnmount","clearInterval","toggleOnAdd","timeoutAdd","toggleOnDelete","timeoutDelete","menu","allItems","addons","i","length","current","category","includes","item","newItem","name","availability","push","handleAddClick","handleAddClose","handleDeleteClick","deleteItemSubmit","deleteItemClose","handleCloseDenied","handleDrinksMenuClick","e","window","scrollTo","top","drinkRef","offsetTop","left","behavior","handleFoodMenuClick","foodRef","handleAddOnsMenuClick","addonsRef","handleStockChange","createRef","contextRef","content","marginTop","height","map","drink","addon","color","fontFamily","background","width","history","onlyTablet","minWidth","onlyMobile","Component"],"mappings":"ynCAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,CAAeC,IAAf,CAAqBC,SAArB,CAAgCC,MAAhC,CAAwCC,IAAxC,CAA8CC,MAA9C,CAAsDC,KAAtD,CAA6DC,MAA7D,CAAqEC,MAArE,CAA6EC,QAA7E,CAAuFC,UAAvF,CAAmGC,IAAnG,CAAyGC,KAAzG,CAAgHC,OAAhH,CAAyHC,OAAzH,KAAwI,mBAAxI,CAEA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CACA,MAAO,GAAKC,CAAAA,SAAZ,KAA2B,yBAA3B,CAEA,OAASC,WAAT,CAAsBC,UAAtB,CAAkCC,aAAlC,CAAiDC,UAAjD,KAAmE,uBAAnE,C,GAEMC,CAAAA,gB,sFACJ,0BAAYC,KAAZ,CAAmB,kDACjB,kFAAMA,KAAN,GADiB,MAQnBC,KARmB,CAQX,CACNC,KAAK,CAAE,KADD,CAENC,YAAY,CAAE,KAFR,CAGNC,SAAS,CAAE,KAHL,CAINC,UAAU,CAAE,KAJN,CAKNC,aAAa,CAAE,KALT,CAMNC,QAAQ,CAAE,IANJ,CAONC,OAAO,CAAE,KAPH,CAQNC,MAAM,CAAE,EARF,CASNC,IAAI,CAAE,EATA,CAUNC,GAAG,CAAE,EAVC,CAWNC,aAAa,CAAE,KAXT,CAYNC,gBAAgB,CAAE,KAZZ,CARW,OAuBnBC,iBAvBmB,CAuBC,UAAM,CACxB,MAAKC,QAAL,CAAc,CAAEP,OAAO,CAAE,IAAX,CAAd,EACAV,UAAU,CAACkB,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAX,CAAD,CAAV,CACGC,IADH,CACQ,SAAAC,GAAG,CAAI,CACX,MAAKN,QAAL,CAAc,CAAEb,KAAK,CAAEmB,GAAG,CAACC,MAAb,CAAd,EACD,CAHH,EAIAC,UAAU,CAAC,MAAKC,QAAN,CAAgB,IAAhB,CAAV,CACA,MAAKC,UAAL,CAAkBC,WAAW,CAAC,MAAKF,QAAN,CAAgB,KAAhB,CAA7B,CACD,CA/BkB,OAiCnBG,oBAjCmB,CAiCI,UAAM,CAC3BC,aAAa,CAAC,MAAKH,UAAN,CAAb,CACD,CAnCkB,OAqCnBI,WArCmB,CAqCL,UAAM,CAClB,MAAKd,QAAL,CAAc,CAAEH,aAAa,CAAE,IAAjB,CAAd,EACA,MAAKkB,UAAL,CAAkBP,UAAU,CAAC,UAAM,CAAC,MAAKR,QAAL,CAAc,CAAEH,aAAa,CAAE,KAAjB,CAAd,EAAwC,CAAhD,CAAkD,IAAlD,CAA5B,CACD,CAxCkB,OA0CnBmB,cA1CmB,CA0CF,UAAM,CACrB,MAAKhB,QAAL,CAAc,CAAEF,gBAAgB,CAAE,IAApB,CAAd,EACA,MAAKmB,aAAL,CAAqBT,UAAU,CAAC,UAAM,CAAC,MAAKR,QAAL,CAAc,CAAEF,gBAAgB,CAAE,KAApB,CAAd,EAA2C,CAAnD,CAAqD,IAArD,CAA/B,CACD,CA7CkB,OA+CnBW,QA/CmB,sEA+CR,yJACH3B,CAAAA,aAAa,CAACmB,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAX,CAAD,CAAb,CACHC,IADG,CACE,SAAAa,IAAI,CAAI,CACZ,GAAIC,CAAAA,QAAQ,CAAG,EAAf,CACA,GAAIzB,CAAAA,MAAM,CAAG,EAAb,CACA,GAAIC,CAAAA,IAAI,CAAG,EAAX,CACA,GAAIyB,CAAAA,MAAM,CAAG,EAAb,CACA,IAAK,GAAIC,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGH,IAAI,CAACI,MAAzB,CAAiCD,CAAC,EAAlC,CAAsC,CACpC,GAAIE,CAAAA,OAAO,CAAGL,IAAI,CAACG,CAAD,CAAlB,CACA,GAAIE,OAAO,CAACC,QAAR,GAAqB,OAArB,EAAgC,CAACL,QAAQ,CAACM,QAAT,CAAkBF,OAAO,CAACG,IAA1B,CAArC,CAAsE,CACpE,GAAIC,CAAAA,OAAO,CAAG,CACZC,IAAI,CAAEL,OAAO,CAACG,IADF,CAEZG,YAAY,CAAEN,OAAO,CAACM,YAFV,CAAd,CAIAnC,MAAM,CAACoC,IAAP,CAAYH,OAAZ,EACAR,QAAQ,CAACW,IAAT,CAAcP,OAAO,CAACG,IAAtB,EACD,CAPD,IAQK,IAAIH,OAAO,CAACC,QAAR,GAAqB,MAArB,EAA+B,CAACL,QAAQ,CAACM,QAAT,CAAkBF,OAAO,CAACG,IAA1B,CAApC,CAAqE,CACxE,GAAIC,CAAAA,QAAO,CAAG,CACZC,IAAI,CAAEL,OAAO,CAACG,IADF,CAEZG,YAAY,CAAEN,OAAO,CAACM,YAFV,CAAd,CAIAlC,IAAI,CAACmC,IAAL,CAAUH,QAAV,EACAR,QAAQ,CAACW,IAAT,CAAcP,OAAO,CAACG,IAAtB,EACD,CAPI,IAQA,IAAIH,OAAO,CAACC,QAAR,GAAqB,KAArB,EAA8B,CAACL,QAAQ,CAACM,QAAT,CAAkBF,OAAO,CAACG,IAA1B,CAAnC,CAAoE,CACvE,GAAIC,CAAAA,SAAO,CAAG,CACZC,IAAI,CAAEL,OAAO,CAACG,IADF,CAEZG,YAAY,CAAEN,OAAO,CAACM,YAFV,CAAd,CAIAT,MAAM,CAACU,IAAP,CAAYH,SAAZ,EACAR,QAAQ,CAACW,IAAT,CAAcP,OAAO,CAACG,IAAtB,EACD,CACF,CACD,MAAK1B,QAAL,CAAc,CAAEN,MAAM,CAAEA,MAAV,CAAd,EACA,MAAKM,QAAL,CAAc,CAAEL,IAAI,CAAEA,IAAR,CAAd,EACA,MAAKK,QAAL,CAAc,CAAEJ,GAAG,CAAEwB,MAAP,CAAd,EACD,CApCG,CADG,QAuCP,MAAKpB,QAAL,CAAc,CAAEP,OAAO,CAAE,KAAX,CAAd,EAvCO,sDA/CQ,SAyFnBsC,cAzFmB,sEAyFF,wIACf,MAAK/B,QAAL,CAAc,CAAEP,OAAO,CAAE,IAAX,CAAd,EADe,KAEX,MAAKP,KAAL,CAAWC,KAAX,GAAqB,OAFV,2BAGb,MAAKa,QAAL,CAAc,CAAEZ,YAAY,CAAE,IAAhB,CAAd,EAHa,qDAMP,OAAKY,QAAL,CAAc,CAAEX,SAAS,CAAE,IAAb,CAAd,CANO,QAQf,MAAKW,QAAL,CAAc,CAAEP,OAAO,CAAE,KAAX,CAAd,EARe,wDAzFE,SAoGnBuC,cApGmB,sEAoGF,wIACf,MAAKhC,QAAL,CAAc,CAAEP,OAAO,CAAE,IAAX,CAAd,EADe,uBAET,OAAKO,QAAL,CAAc,CAAEX,SAAS,CAAE,KAAb,CAAd,CAFS,QAGf,MAAKW,QAAL,CAAc,CAAEP,OAAO,CAAE,KAAX,CAAd,EAHe,wDApGE,SA0GnBwC,iBA1GmB,2FA0GC,kBAAOP,IAAP,sHAClB,MAAK1B,QAAL,CAAc,CAAEP,OAAO,CAAE,IAAX,CAAd,EADkB,KAEd,MAAKP,KAAL,CAAWC,KAAX,GAAqB,OAFP,2BAGhB,MAAKa,QAAL,CAAc,CAAEZ,YAAY,CAAE,IAAhB,CAAd,EAHgB,qDAMV,OAAKY,QAAL,CAAc,CAAER,QAAQ,CAAEkC,IAAZ,CAAd,CANU,+BAOV,OAAK1B,QAAL,CAAc,CAAET,aAAa,CAAE,IAAjB,CAAd,CAPU,QAShB,MAAKS,QAAL,CAAc,CAAEP,OAAO,CAAE,KAAX,CAAd,EATgB,yDA1GD,sEAsHnByC,gBAtHmB,sEAsHA,wIACjB,MAAKlC,QAAL,CAAc,CAAEP,OAAO,CAAE,IAAX,CAAd,EADiB,uBAEXZ,CAAAA,UAAU,CAAC,MAAKK,KAAL,CAAWM,QAAZ,CAAsBS,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAX,CAAtB,CAFC,QAGjB,MAAKJ,QAAL,CAAc,CAAER,QAAQ,CAAE,IAAZ,CAAd,EACA,MAAKQ,QAAL,CAAc,CAAET,aAAa,CAAE,KAAjB,CAAd,EAJiB,uBAKX,OAAKkB,QAAL,EALW,QAMjB,MAAKO,cAAL,GACA,MAAKhB,QAAL,CAAc,CAAEP,OAAO,CAAE,KAAX,CAAd,EAPiB,wDAtHA,SAgInB0C,eAhImB,CAgID,UAAM,CACtB,MAAKnC,QAAL,CAAc,CAAET,aAAa,CAAE,KAAjB,CAAd,EACD,CAlIkB,OAoInB6C,iBApImB,CAoIC,UAAM,CACxB,MAAKpC,QAAL,CAAc,CAAEZ,YAAY,CAAE,KAAhB,CAAd,EACD,CAtIkB,OAwInBiD,qBAxImB,CAwIK,SAACC,CAAD,CAAO,CAC7BC,MAAM,CAACC,QAAP,CAAgB,CAACC,GAAG,CAAE,MAAKC,QAAL,CAAcnB,OAAd,CAAsBoB,SAAtB,CAAkC,GAAxC,CAA6CC,IAAI,CAAE,CAAnD,CAAsDC,QAAQ,CAAE,QAAhE,CAAhB,EACD,CA1IkB,OA4InBC,mBA5ImB,CA4IG,SAACR,CAAD,CAAO,CAC3BC,MAAM,CAACC,QAAP,CAAgB,CAACC,GAAG,CAAE,MAAKM,OAAL,CAAaxB,OAAb,CAAqBoB,SAArB,CAAiC,GAAvC,CAA4CC,IAAI,CAAE,CAAlD,CAAqDC,QAAQ,CAAE,QAA/D,CAAhB,EACD,CA9IkB,OAgJnBG,qBAhJmB,CAgJK,UAAM,CAC5BT,MAAM,CAACC,QAAP,CAAgB,CAACC,GAAG,CAAE,MAAKQ,SAAL,CAAe1B,OAAf,CAAuBoB,SAAvB,CAAmC,GAAzC,CAA8CC,IAAI,CAAE,CAApD,CAAuDC,QAAQ,CAAE,QAAjE,CAAhB,EACD,CAlJkB,OAoJnBK,iBApJmB,CAoJC,SAACxB,IAAD,CAAU,CAC5B,MAAK1B,QAAL,CAAc,CAAEP,OAAO,CAAE,IAAX,CAAd,EACAb,WAAW,CAAC8C,IAAD,CAAOzB,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAX,CAAP,CAAX,CACGC,IADH,CACQ,SAAAwB,YAAY,CAAI,CACpB,GAAIA,YAAY,CAACL,QAAb,GAA0B,OAA9B,CAAuC,CACrC,IAAK,GAAIH,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAG,MAAKnC,KAAL,CAAWQ,MAAX,CAAkB4B,MAAtC,CAA8CD,CAAC,EAA/C,CAAmD,CACjD,GAAI,MAAKnC,KAAL,CAAWQ,MAAX,CAAkB2B,CAAlB,EAAqBO,IAArB,GAA8BC,YAAY,CAACH,IAA/C,CAAqD,CACnD,GAAIH,CAAAA,OAAO,CAAG,MAAKrC,KAAL,CAAWQ,MAAzB,CACA6B,OAAO,CAACF,CAAD,CAAP,CAAWQ,YAAX,CAA0BA,YAAY,CAACA,YAAvC,CACA,MAAK7B,QAAL,CAAc,CAAEN,MAAM,CAAE6B,OAAV,CAAd,EACD,CACF,CACF,CAED,GAAIM,YAAY,CAACL,QAAb,GAA0B,MAA9B,CAAsC,CACpC,IAAK,GAAIH,CAAAA,EAAC,CAAG,CAAb,CAAgBA,EAAC,CAAG,MAAKnC,KAAL,CAAWS,IAAX,CAAgB2B,MAApC,CAA4CD,EAAC,EAA7C,CAAiD,CAC/C,GAAI,MAAKnC,KAAL,CAAWS,IAAX,CAAgB0B,EAAhB,EAAmBO,IAAnB,GAA4BC,YAAY,CAACH,IAA7C,CAAmD,CACjD,GAAIH,CAAAA,QAAO,CAAG,MAAKrC,KAAL,CAAWS,IAAzB,CACA4B,QAAO,CAACF,EAAD,CAAP,CAAWQ,YAAX,CAA0BA,YAAY,CAACA,YAAvC,CACA,MAAK7B,QAAL,CAAc,CAAEL,IAAI,CAAE4B,QAAR,CAAd,EACD,CACF,CACF,CAED,GAAIM,YAAY,CAACL,QAAb,GAA0B,KAA9B,CAAqC,CACnC,IAAK,GAAIH,CAAAA,GAAC,CAAG,CAAb,CAAgBA,GAAC,CAAG,MAAKnC,KAAL,CAAWU,GAAX,CAAe0B,MAAnC,CAA2CD,GAAC,EAA5C,CAAgD,CAC9C,GAAI,MAAKnC,KAAL,CAAWU,GAAX,CAAeyB,GAAf,EAAkBO,IAAlB,GAA2BC,YAAY,CAACH,IAA5C,CAAkD,CAChD,GAAIH,CAAAA,SAAO,CAAG,MAAKrC,KAAL,CAAWU,GAAzB,CACA2B,SAAO,CAACF,GAAD,CAAP,CAAWQ,YAAX,CAA0BA,YAAY,CAACA,YAAvC,CACA,MAAK7B,QAAL,CAAc,CAAEJ,GAAG,CAAE2B,SAAP,CAAd,EACD,CACF,CACF,CACF,CA/BH,EAgCA,MAAKvB,QAAL,CAAc,CAAEP,OAAO,CAAE,KAAX,CAAd,EACD,CAvLkB,CAEjB,MAAKiD,QAAL,CAAgBjF,KAAK,CAAC0F,SAAN,EAAhB,CACA,MAAKJ,OAAL,CAAetF,KAAK,CAAC0F,SAAN,EAAf,CACA,MAAKF,SAAL,CAAiBxF,KAAK,CAAC0F,SAAN,EAAjB,CACA,MAAKC,UAAL,CAAkB3F,KAAK,CAAC0F,SAAN,EAAlB,CALiB,aAMlB,C,oEAmLQ,iBAEP,GAAIE,CAAAA,OAAO,CACP,oBAAC,IAAD,EAAM,SAAS,KAAf,EACE,oBAAC,IAAD,CAAM,GAAN,MACE,oBAAC,IAAD,CAAM,MAAN,EAAa,KAAK,CAAC,GAAnB,EADF,CAEE,oBAAC,IAAD,CAAM,MAAN,EAAa,KAAK,CAAC,GAAnB,EACE,oBAAC,IAAD,EAAM,OAAO,CAAC,YAAd,EACE,oBAAC,IAAD,CAAM,GAAN,MACE,oBAAC,KAAD,EAAO,GAAG,CAAE1E,SAAZ,CAAuB,KAAK,CAAI,CAAC2E,SAAS,CAAC,KAAX,CAAhC,EADF,CADF,CAIE,oBAAC,IAAD,CAAM,GAAN,MACE,oBAAC,IAAD,CAAM,MAAN,EAAa,KAAK,CAAC,GAAnB,EADF,CAEE,oBAAC,IAAD,CAAM,MAAN,EAAa,KAAK,CAAC,IAAnB,EACE,2BAAK,KAAK,CAAE,CAAEC,MAAM,CAAE,KAAV,CAAZ,EADF,CAEE,oBAAC,IAAD,MAEE,2BAAK,GAAG,CAAE,KAAKb,QAAf,EAFF,CAGE,oBAAC,IAAD,CAAM,GAAN,MACE,oBAAC,IAAD,CAAM,MAAN,EAAa,KAAK,CAAC,GAAnB,EADF,CAEE,oBAAC,IAAD,CAAM,MAAN,EAAa,KAAK,CAAC,IAAnB,EACE,oBAAC,MAAD,EAAQ,KAAK,CAAE,CAAE,WAAY,KAAd,CAAf,WADF,CAFF,CAHF,CASE,oBAAC,IAAD,CAAM,GAAN,MACE,oBAAC,IAAD,CAAM,MAAN,EAAa,KAAK,CAAC,GAAnB,EADF,CAEE,oBAAC,IAAD,CAAM,MAAN,EAAa,KAAK,CAAC,IAAnB,EACE,oBAAC,IAAD,EAAM,OAAO,CAAC,YAAd,EACG,KAAKxD,KAAL,CAAWQ,MAAX,CAAkB8D,GAAlB,CAAsB,SAAAC,KAAK,CAAI,CAC9B,MACE,qBAAC,IAAD,CAAM,GAAN,EAAU,GAAG,CAAEA,KAAK,CAAC7B,IAArB,EACE,oBAAC,IAAD,CAAM,MAAN,EAAa,KAAK,CAAC,GAAnB,EACE,8BAAK6B,KAAK,CAAC7B,IAAX,CADF,CADF,CAIE,oBAAC,IAAD,CAAM,MAAN,EAAa,KAAK,CAAC,GAAnB,EACE,oBAAC,QAAD,EAAU,MAAM,KAAhB,CAAiB,OAAO,CAAE6B,KAAK,CAAC5B,YAAhC,CAA8C,KAAK,CAAC,UAApD,CAA+D,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACqB,iBAAL,CAAuBO,KAAK,CAAC7B,IAA7B,CAAN,EAAxE,EADF,CAJF,CAOE,oBAAC,IAAD,CAAM,MAAN,EAAa,KAAK,CAAC,GAAnB,EACE,oBAAC,MAAD,EAAQ,QAAQ,KAAhB,CAAiB,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACK,iBAAL,CAAuBwB,KAAK,CAAC7B,IAA7B,CAAN,EAA1B,CAAoE,KAAK,KAAzE,CAA0E,KAAK,CAAC,OAAhF,gBADF,CAPF,CADF,CAaD,CAdA,CADH,CADF,CAFF,CATF,CA+BE,2BAAK,KAAK,CAAE,CAAE2B,MAAM,CAAE,KAAV,CAAZ,EA/BF,CAiCE,2BAAK,GAAG,CAAE,KAAKR,OAAf,EAjCF,CAkCE,oBAAC,IAAD,CAAM,GAAN,MACE,oBAAC,IAAD,CAAM,MAAN,EAAa,KAAK,CAAC,GAAnB,EADF,CAEE,oBAAC,IAAD,CAAM,MAAN,EAAa,KAAK,CAAC,IAAnB,EACE,oBAAC,MAAD,EAAQ,KAAK,CAAE,CAAE,WAAY,KAAd,CAAf,SADF,CAFF,CAlCF,CAwCE,oBAAC,IAAD,CAAM,GAAN,MACE,oBAAC,IAAD,CAAM,MAAN,EAAa,KAAK,CAAC,GAAnB,EADF,CAEE,oBAAC,IAAD,CAAM,MAAN,EAAa,KAAK,CAAC,IAAnB,EACE,oBAAC,IAAD,EAAM,OAAO,CAAC,YAAd,EACG,KAAK7D,KAAL,CAAWS,IAAX,CAAgB6D,GAAhB,CAAoB,SAAA7D,IAAI,CAAI,CAC3B,MACE,qBAAC,IAAD,CAAM,GAAN,EAAU,GAAG,CAAEA,IAAI,CAACiC,IAApB,EACE,oBAAC,IAAD,CAAM,MAAN,EAAa,KAAK,CAAC,GAAnB,EACE,8BAAKjC,IAAI,CAACiC,IAAV,CADF,CADF,CAIE,oBAAC,IAAD,CAAM,MAAN,EAAa,KAAK,CAAC,GAAnB,EACE,oBAAC,QAAD,EAAU,MAAM,KAAhB,CAAiB,OAAO,CAAEjC,IAAI,CAACkC,YAA/B,CAA6C,KAAK,CAAC,UAAnD,CAA8D,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACqB,iBAAL,CAAuBvD,IAAI,CAACiC,IAA5B,CAAN,EAAvE,EADF,CAJF,CAOE,oBAAC,IAAD,CAAM,MAAN,EAAa,KAAK,CAAC,GAAnB,EACE,oBAAC,MAAD,EAAQ,QAAQ,KAAhB,CAAiB,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACK,iBAAL,CAAuBtC,IAAI,CAACiC,IAA5B,CAAN,EAA1B,CAAmE,KAAK,KAAxE,CAAyE,KAAK,CAAC,OAA/E,gBADF,CAPF,CADF,CAaD,CAdA,CADH,CADF,CAFF,CAxCF,CA8DE,2BAAK,GAAG,CAAE,KAAKqB,SAAf,EA9DF,CA+DE,oBAAC,IAAD,CAAM,GAAN,MACE,oBAAC,IAAD,CAAM,MAAN,EAAa,KAAK,CAAC,GAAnB,EADF,CAEE,oBAAC,IAAD,CAAM,MAAN,EAAa,KAAK,CAAC,IAAnB,EACE,oBAAC,MAAD,EAAQ,KAAK,CAAE,CAAE,WAAY,KAAd,CAAf,YADF,CAFF,CA/DF,CAqEE,oBAAC,IAAD,CAAM,GAAN,MACE,oBAAC,IAAD,CAAM,MAAN,EAAa,KAAK,CAAC,GAAnB,EADF,CAEE,oBAAC,IAAD,CAAM,MAAN,EAAa,KAAK,CAAC,IAAnB,EACE,oBAAC,IAAD,EAAM,OAAO,CAAC,YAAd,EACG,KAAK/D,KAAL,CAAWU,GAAX,CAAe4D,GAAf,CAAmB,SAAAE,KAAK,CAAI,CAC3B,MACE,qBAAC,IAAD,CAAM,GAAN,EAAU,GAAG,CAAEA,KAAK,CAAC9B,IAArB,EACE,oBAAC,IAAD,CAAM,MAAN,EAAa,KAAK,CAAC,GAAnB,EACE,8BAAK8B,KAAK,CAAC9B,IAAX,CADF,CADF,CAIE,oBAAC,IAAD,CAAM,MAAN,EAAa,KAAK,CAAC,GAAnB,EACE,oBAAC,QAAD,EAAU,MAAM,KAAhB,CAAiB,OAAO,CAAE8B,KAAK,CAAC7B,YAAhC,CAA8C,KAAK,CAAC,UAApD,CAA+D,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACqB,iBAAL,CAAuBQ,KAAK,CAAC9B,IAA7B,CAAN,EAAxE,EADF,CAJF,CAOE,oBAAC,IAAD,CAAM,MAAN,EAAa,KAAK,CAAC,GAAnB,EACE,oBAAC,MAAD,EAAQ,QAAQ,KAAhB,CAAiB,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACK,iBAAL,CAAuByB,KAAK,CAAC9B,IAA7B,CAAN,EAA1B,CAAoE,KAAK,KAAzE,CAA0E,KAAK,CAAC,OAAhF,gBADF,CAPF,CADF,CAaD,CAdA,CADH,CADF,CAFF,CArEF,CAFF,CAFF,CAJF,CADF,CAFF,CA2GE,oBAAC,IAAD,CAAM,MAAN,EAAa,KAAK,CAAC,GAAnB,EA3GF,CA6GE,oBAAC,IAAD,CAAM,MAAN,EAAa,KAAK,CAAC,GAAnB,EA7GF,CADF,CADJ,CAmHA,MACE,qBAAC,KAAD,CAAO,QAAP,MACE,oBAAC,OAAD,EAAS,EAAE,CAAE/D,MAAb,CAAqB,SAAS,CAAC,KAA/B,CAAqC,KAAK,CAAC,WAA3C,CAAuD,OAAO,CAAE,KAAKqB,KAAL,CAAWW,aAA3E,CAA0F,SAAS,CAAC,SAApG,CAA8G,KAAK,CAAE,CAAE,SAAU,GAAZ,CAArH,EACE,2BAAK,KAAK,CAAE,CAAE0D,MAAM,CAAE,KAAV,CAAZ,EADF,CAEE,oBAAC,OAAD,EAAS,MAAM,KAAf,CAAgB,SAAS,CAAC,QAA1B,CAAmC,KAAK,CAAE,CAACI,KAAK,CAAE,OAAR,CAAiBC,UAAU,CAAC,QAA5B,CAAsCC,UAAU,CAAE,SAAlD,CAA1C,4BAFF,CADF,CAOE,oBAAC,OAAD,EAAS,EAAE,CAAEhG,MAAb,CAAqB,SAAS,CAAC,KAA/B,CAAqC,KAAK,CAAC,WAA3C,CAAuD,OAAO,CAAE,KAAKqB,KAAL,CAAWY,gBAA3E,CAA6F,SAAS,CAAC,SAAvG,CAAiH,KAAK,CAAE,CAAE,SAAU,GAAZ,CAAxH,EACE,2BAAK,KAAK,CAAE,CAAEyD,MAAM,CAAE,KAAV,CAAZ,EADF,CAEE,oBAAC,OAAD,EAAS,MAAM,KAAf,CAAgB,SAAS,CAAC,QAA1B,CAAmC,KAAK,CAAE,CAACI,KAAK,CAAE,OAAR,CAAiBC,UAAU,CAAC,QAA5B,CAAsCC,UAAU,CAAE,SAAlD,CAA1C,gCAFF,CAPF,CAaE,oBAAC,MAAD,EAAQ,MAAM,CAAE,KAAK3E,KAAL,CAAWO,OAA3B,CAAoC,QAAQ,KAA5C,CAA6C,IAAI,KAAjD,EACE,oBAAC,MAAD,EAAQ,QAAQ,KAAhB,YADF,CAbF,CAgBE,oBAAC,KAAD,EAAO,IAAI,CAAE,KAAKP,KAAL,CAAWG,SAAxB,CAAmC,KAAK,CAAE,CAAC,YAAa,qBAAd,CAAqC,YAAa,MAAlD,CAA1C,EACE,oBAAC,SAAD,EAAW,KAAK,CAAE,CAAEyE,KAAK,CAAE,OAAT,CAAlB,EACE,oBAAC,OAAD,EAAS,cAAc,CAAE,KAAK9B,cAA9B,CAA8C,gBAAgB,CAAE,KAAKvB,QAArE,CAA+E,WAAW,CAAE,KAAKK,WAAjG,EADF,CADF,CAhBF,CAsBE,oBAAC,MAAD,EAAQ,MAAM,CAAE,KAAK5B,KAAL,CAAWK,aAA3B,CAA0C,cAAc,CAAE,KAAK4C,eAA/D,CAAgF,IAAI,KAApF,EACE,oBAAC,SAAD,EAAW,KAAK,CAAE,CAAE2B,KAAK,CAAE,OAAT,CAAlB,EACE,oBAAC,IAAD,EAAM,KAAK,KAAX,EACE,oBAAC,IAAD,CAAM,OAAN,MACE,oBAAC,MAAD,EAAQ,EAAE,CAAC,IAAX,CAAgB,KAAK,CAAC,MAAtB,yEADF,CADF,CAIE,oBAAC,MAAD,CAAQ,KAAR,MACE,oBAAC,MAAD,EAAQ,OAAO,CAAE,KAAK3B,eAAtB,WADF,CAEE,oBAAC,MAAD,EAAQ,QAAQ,KAAhB,CAAiB,OAAO,CAAE,KAAKD,gBAA/B,WAFF,CAJF,CADF,CADF,CAtBF,CAmCE,oBAAC,MAAD,EAAQ,MAAM,CAAE,KAAKhD,KAAL,CAAWE,YAA3B,CAAyC,cAAc,CAAE,KAAKgD,iBAA9D,CAAiF,IAAI,KAArF,EACE,oBAAC,SAAD,EAAW,KAAK,CAAE,CAAE0B,KAAK,CAAE,OAAT,CAAlB,EACE,oBAAC,IAAD,EAAM,KAAK,KAAX,EACE,oBAAC,IAAD,CAAM,OAAN,MACE,oBAAC,MAAD,EAAQ,EAAE,CAAC,IAAX,CAAgB,KAAK,CAAC,MAAtB,kBADF,CADF,CAIE,oBAAC,MAAD,EAAQ,OAAO,CAAE,KAAK1B,iBAAtB,iBAJF,CADF,CADF,CAnCF,CA+CE,oBAAC,aAAD,EAAe,OAAO,CAAE,KAAKnD,KAAL,CAAW8E,OAAnC,EA/CF,CAgDE,oBAAC,UAAD,EAAY,QAAQ,CAAE3F,UAAU,CAAC4F,UAAX,CAAsBC,QAA5C,EACA,2BAAK,KAAK,CAAE,CAAEV,MAAM,CAAE,MAAV,CAAZ,EADA,CAEE,oBAAC,IAAD,EAAM,QAAQ,KAAd,CAAe,SAAS,KAAxB,CAAyB,KAAK,CAAC,MAA/B,CAAsC,KAAK,CAAC,MAA5C,CAAmD,IAAI,CAAC,SAAxD,CAAkE,KAAK,CAAE,CAAE,SAAU,GAAZ,CAAzE,EACE,2BAAK,KAAK,CAAE,CAAEA,MAAM,CAAE,MAAV,CAAZ,EADF,CAEE,oBAAC,IAAD,CAAM,IAAN,EAAW,OAAO,CAAE,KAAKxB,cAAzB,EACE,2BAAK,KAAK,CAAE,CAAEwB,MAAM,CAAE,KAAV,CAAZ,EADF,CAEE,oBAAC,SAAD,EAAW,SAAS,CAAC,QAArB,EACE,oBAAC,MAAD,EAAQ,EAAE,CAAC,IAAX,EACE,oBAAC,IAAD,EAAM,IAAI,CAAC,MAAX,EADF,YADF,CAFF,CAQE,2BAAK,KAAK,CAAE,CAAEA,MAAM,CAAE,KAAV,CAAZ,EARF,CAFF,CAYE,oBAAC,IAAD,CAAM,IAAN,EAAW,OAAO,CAAE,KAAKlB,qBAAzB,EACE,2BAAK,KAAK,CAAE,CAAEkB,MAAM,CAAE,KAAV,CAAZ,EADF,CAEE,oBAAC,SAAD,EAAW,SAAS,CAAC,QAArB,EACE,oBAAC,MAAD,EAAQ,EAAE,CAAC,IAAX,EACE,oBAAC,IAAD,EAAM,IAAI,CAAC,QAAX,EADF,UADF,CAFF,CAQE,2BAAK,KAAK,CAAE,CAAEA,MAAM,CAAE,KAAV,CAAZ,EARF,CAZF,CAuBE,oBAAC,IAAD,CAAM,IAAN,EAAW,OAAO,CAAE,KAAKT,mBAAzB,EACE,2BAAK,KAAK,CAAE,CAAES,MAAM,CAAE,KAAV,CAAZ,EADF,CAEE,oBAAC,SAAD,EAAW,SAAS,CAAC,QAArB,EACE,oBAAC,MAAD,EAAQ,EAAE,CAAC,IAAX,EACE,oBAAC,IAAD,EAAM,IAAI,CAAC,UAAX,EADF,QADF,CAFF,CAQE,2BAAK,KAAK,CAAE,CAAEA,MAAM,CAAE,KAAV,CAAZ,EARF,CAvBF,CAkCE,oBAAC,IAAD,CAAM,IAAN,EAAW,OAAO,CAAE,KAAKP,qBAAzB,EACE,2BAAK,KAAK,CAAE,CAAEO,MAAM,CAAE,KAAV,CAAZ,EADF,CAEE,oBAAC,SAAD,EAAW,SAAS,CAAC,QAArB,EACE,oBAAC,MAAD,EAAQ,EAAE,CAAC,IAAX,EACE,oBAAC,IAAD,EAAM,IAAI,CAAC,qBAAX,EADF,WADF,CAFF,CAQE,2BAAK,KAAK,CAAE,CAAEA,MAAM,CAAE,KAAV,CAAZ,EARF,CAlCF,CAFF,CA+CGF,OA/CH,CAhDF,CAiGE,oBAAC,UAAD,CAAgBjF,UAAU,CAAC8F,UAA3B,CACA,2BAAK,KAAK,CAAE,CAAEX,MAAM,CAAE,KAAV,CAAZ,EADA,CAEGF,OAFH,CAjGF,CADF,CAwGD,C,8BAvZ4B5F,KAAK,CAAC0G,S,EA0ZrC,cAAenF,CAAAA,gBAAf","sourcesContent":["import React from 'react';\nimport { Menu, Icon, Container, Header, Grid, Dimmer, Modal, Loader, Button, Checkbox, Responsive, Card, Image, Sidebar, Segment } from 'semantic-ui-react';\n\nimport BaristaHeader from './BaristaHeader';\nimport AddItem from './AddItem';\nimport * as inventory from '../Assets/inventory.png';\n\nimport { changeStock, deleteItem, loadInventory, checkAdmin } from '../Axios/axios_getter';\n\nclass BaristaInventory extends React.Component {\n  constructor(props) {\n    super(props)\n    this.drinkRef = React.createRef()\n    this.foodRef = React.createRef()\n    this.addonsRef = React.createRef()\n    this.contextRef = React.createRef()\n  }\n\n  state = {\n    admin: false,\n    deniedActive: false,\n    addActive: false,\n    editActive: false,\n    deleteConfirm: false,\n    toDelete: null,\n    loading: false,\n    drinks: [],\n    food: [],\n    add: [],\n    transitionAdd: false,\n    transitionDelete: false,\n  }\n\n  componentDidMount = () => {\n    this.setState({ loading: true });\n    checkAdmin(JSON.parse(localStorage.getItem('token')))\n      .then(res => {\n        this.setState({ admin: res.status });\n      });\n    setTimeout(this.getItems, 1000);\n    this.intervalId = setInterval(this.getItems, 10000);\n  }\n\n  componentWillUnmount = () => {\n    clearInterval(this.intervalId);\n  }\n\n  toggleOnAdd = () => {\n    this.setState({ transitionAdd: true });\n    this.timeoutAdd = setTimeout(() => {this.setState({ transitionAdd: false })}, 3000);\n  }\n\n  toggleOnDelete = () => {\n    this.setState({ transitionDelete: true });\n    this.timeoutDelete = setTimeout(() => {this.setState({ transitionDelete: false })}, 3000);\n  }\n\n  getItems = async () => {\n    await loadInventory(JSON.parse(localStorage.getItem('token')))\n      .then(menu => {\n        let allItems = [];\n        let drinks = [];\n        let food = [];\n        let addons = [];\n        for (let i = 0; i < menu.length; i++) {\n          let current = menu[i];\n          if (current.category === 'Drink' && !allItems.includes(current.item)) {\n            let newItem = {\n              name: current.item,\n              availability: current.availability\n            }\n            drinks.push(newItem);\n            allItems.push(current.item)\n          }\n          else if (current.category === 'Food' && !allItems.includes(current.item)) {\n            let newItem = {\n              name: current.item,\n              availability: current.availability\n            }\n            food.push(newItem);\n            allItems.push(current.item)\n          }\n          else if (current.category === 'Add' && !allItems.includes(current.item)) {\n            let newItem = {\n              name: current.item,\n              availability: current.availability\n            }\n            addons.push(newItem);\n            allItems.push(current.item)\n          }\n        }\n        this.setState({ drinks: drinks });\n        this.setState({ food: food });\n        this.setState({ add: addons });\n      }\n      );\n      this.setState({ loading: false });\n  }\n\n  handleAddClick = async () => {\n    this.setState({ loading: true });\n    if (this.state.admin === 'False') {\n      this.setState({ deniedActive: true });\n    }\n    else {\n      await this.setState({ addActive: true });\n    }\n    this.setState({ loading: false });\n  }\n\n  handleAddClose = async () => {\n    this.setState({ loading: true });\n    await this.setState({ addActive: false });\n    this.setState({ loading: false });\n  }\n\n  handleDeleteClick = async (item) => {\n    this.setState({ loading: true });\n    if (this.state.admin === 'False') {\n      this.setState({ deniedActive: true });\n    }\n    else {\n      await this.setState({ toDelete: item });\n      await this.setState({ deleteConfirm: true });\n    }\n      this.setState({ loading: false });\n  }\n\n  deleteItemSubmit = async () => {\n    this.setState({ loading: true });\n    await deleteItem(this.state.toDelete, JSON.parse(localStorage.getItem('token')));\n    this.setState({ toDelete: null });\n    this.setState({ deleteConfirm: false });\n    await this.getItems();\n    this.toggleOnDelete();\n    this.setState({ loading: false });\n  }\n\n  deleteItemClose = () => {\n    this.setState({ deleteConfirm: false });\n  }\n\n  handleCloseDenied = () => {\n    this.setState({ deniedActive: false });\n  }\n\n  handleDrinksMenuClick = (e) => {\n    window.scrollTo({top: this.drinkRef.current.offsetTop + 155, left: 0, behavior: 'smooth'});\n  }\n\n  handleFoodMenuClick = (e) => {\n    window.scrollTo({top: this.foodRef.current.offsetTop + 183, left: 0, behavior: 'smooth'});\n  }\n\n  handleAddOnsMenuClick = () => {\n    window.scrollTo({top: this.addonsRef.current.offsetTop + 183, left: 0, behavior: 'smooth'});\n  }\n\n  handleStockChange = (item) => {\n    this.setState({ loading: true });\n    changeStock(item, JSON.parse(localStorage.getItem('token')))\n      .then(availability => {\n        if (availability.category === \"Drink\") {\n          for (let i = 0; i < this.state.drinks.length; i++) {\n            if (this.state.drinks[i].name === availability.item) {\n              let current = this.state.drinks;\n              current[i].availability = availability.availability\n              this.setState({ drinks: current });\n            }\n          }\n        }\n\n        if (availability.category === \"Food\") {\n          for (let i = 0; i < this.state.food.length; i++) {\n            if (this.state.food[i].name === availability.item) {\n              let current = this.state.food;\n              current[i].availability = availability.availability\n              this.setState({ food: current });\n            }\n          }\n        }\n\n        if (availability.category === \"Add\") {\n          for (let i = 0; i < this.state.add.length; i++) {\n            if (this.state.add[i].name === availability.item) {\n              let current = this.state.add;\n              current[i].availability = availability.availability\n              this.setState({ add: current });\n            }\n          }\n        }\n      });\n    this.setState({ loading: false });\n  }\n\n  render() {\n\n    let content =\n        <Grid stackable>\n          <Grid.Row>\n            <Grid.Column width='4' />\n            <Grid.Column width='9'>\n              <Grid divided='vertically'>\n                <Grid.Row>\n                  <Image src={inventory} style = {{marginTop:'-8%'}}/>\n                </Grid.Row>\n                <Grid.Row>\n                  <Grid.Column width='1' />\n                  <Grid.Column width='15'>\n                    <div style={{ height: '2em' }} />\n                    <Grid>\n                      {/* Drinks Section */}\n                      <div ref={this.drinkRef}></div>\n                      <Grid.Row >\n                        <Grid.Column width='1' />\n                        <Grid.Column width='15'>\n                          <Header style={{ 'fontSize': '2em' }}>DRINKS</Header>\n                        </Grid.Column>\n                      </Grid.Row>\n                      <Grid.Row>\n                        <Grid.Column width='1' />\n                        <Grid.Column width='15'>\n                          <Grid divided='vertically'>\n                            {this.state.drinks.map(drink => {\n                              return (\n                                <Grid.Row key={drink.name}>\n                                  <Grid.Column width='7'>\n                                    <h2>{drink.name}</h2>\n                                  </Grid.Column>\n                                  <Grid.Column width='6'>\n                                    <Checkbox toggle checked={drink.availability} label='In Stock' onClick={() => this.handleStockChange(drink.name)}/>\n                                  </Grid.Column>\n                                  <Grid.Column width='3'>\n                                    <Button circular onClick={() => this.handleDeleteClick(drink.name)} basic color='black'>Delete Item</Button>\n                                  </Grid.Column>\n                                </Grid.Row>\n                              )\n                            })}\n                          </Grid>\n                        </Grid.Column>\n                      </Grid.Row>\n                      <div style={{ height: '2em' }} />\n                      {/* Food Section */}\n                      <div ref={this.foodRef}></div>\n                      <Grid.Row>\n                        <Grid.Column width='1' />\n                        <Grid.Column width='15'>\n                          <Header style={{ 'fontSize': '2em' }}>FOOD</Header>\n                        </Grid.Column>\n                      </Grid.Row>\n                      <Grid.Row>\n                        <Grid.Column width='1' />\n                        <Grid.Column width='15'>\n                          <Grid divided='vertically'>\n                            {this.state.food.map(food => {\n                              return (\n                                <Grid.Row key={food.name}>\n                                  <Grid.Column width='7'>\n                                    <h2>{food.name}</h2>\n                                  </Grid.Column>\n                                  <Grid.Column width='6'>\n                                    <Checkbox toggle checked={food.availability} label='In Stock' onClick={() => this.handleStockChange(food.name)}/>\n                                  </Grid.Column>\n                                  <Grid.Column width='3'>\n                                    <Button circular onClick={() => this.handleDeleteClick(food.name)} basic color='black'>Delete Item</Button>\n                                  </Grid.Column>\n                                </Grid.Row>\n                              )\n                            })}\n                          </Grid>\n                        </Grid.Column>\n                      </Grid.Row>\n                      <div ref={this.addonsRef}></div>\n                      <Grid.Row>\n                        <Grid.Column width='1' />\n                        <Grid.Column width='15'>\n                          <Header style={{ 'fontSize': '2em' }}>ADD-ONS</Header>\n                        </Grid.Column>\n                      </Grid.Row>\n                      <Grid.Row>\n                        <Grid.Column width='1' />\n                        <Grid.Column width='15'>\n                          <Grid divided='vertically'>\n                            {this.state.add.map(addon => {\n                              return (\n                                <Grid.Row key={addon.name}>\n                                  <Grid.Column width='7'>\n                                    <h2>{addon.name}</h2>\n                                  </Grid.Column>\n                                  <Grid.Column width='6'>\n                                    <Checkbox toggle checked={addon.availability} label='In Stock' onClick={() => this.handleStockChange(addon.name)}/>\n                                  </Grid.Column>\n                                  <Grid.Column width='3'>\n                                    <Button circular onClick={() => this.handleDeleteClick(addon.name)} basic color='black'>Delete Item</Button>\n                                  </Grid.Column>\n                                </Grid.Row>\n                              )\n                            })}\n                          </Grid>\n                        </Grid.Column>\n                      </Grid.Row>\n                    </Grid>\n                  </Grid.Column>\n                </Grid.Row>\n              </Grid>\n            </Grid.Column>\n            <Grid.Column width='2'>\n            </Grid.Column>\n            <Grid.Column width='1' />\n          </Grid.Row>\n        </Grid>;\n\n    return (\n      <React.Fragment>\n        <Sidebar as={Header} direction='top' width='very wide' visible={this.state.transitionAdd} animation='overlay' style={{ 'zIndex': '3' }}>\n          <div style={{ height: '5vh' }} />\n          <Segment raised textAlign='center' style={{color: 'white', fontFamily:'Avenir', background: '#EDAC86'}}>\n            Item added to the menu!\n          </Segment>\n        </Sidebar>\n        <Sidebar as={Header} direction='top' width='very wide' visible={this.state.transitionDelete} animation='overlay' style={{ 'zIndex': '3' }}>\n          <div style={{ height: '5vh' }} />\n          <Segment raised textAlign='center' style={{color: 'white', fontFamily:'Avenir', background: '#EDAC86'}}>\n            Item deleted from the menu!\n          </Segment>\n        </Sidebar>\n        <Dimmer active={this.state.loading} inverted page>\n          <Loader inverted>Loading</Loader>\n        </Dimmer>\n        <Modal open={this.state.addActive} style={{'maxHeight': 'calc(100vh - 210px)', 'overflowY': 'auto'}}>\n          <Container style={{ width: '720px' }}>\n            <AddItem handleAddClose={this.handleAddClose} inventoryRefresh={this.getItems} toggleOnAdd={this.toggleOnAdd} />\n          </Container>\n        </Modal>\n        {/* Pop up to confirm item deletion */}\n        <Dimmer active={this.state.deleteConfirm} onClickOutside={this.deleteItemClose} page>\n          <Container style={{ width: '720px' }}>\n            <Card fluid>\n              <Card.Content>\n                <Header as='h3' color='grey'>Are you sure you want to permanently delete this item from the menu?</Header>\n              </Card.Content>\n              <Button.Group>\n                <Button onClick={this.deleteItemClose}>Cancel</Button>\n                <Button negative onClick={this.deleteItemSubmit}>Delete</Button>\n              </Button.Group>\n            </Card>\n          </Container>\n        </Dimmer>\n        <Dimmer active={this.state.deniedActive} onClickOutside={this.handleCloseDenied} page>\n          <Container style={{ width: '720px' }}>\n            <Card fluid>\n              <Card.Content>\n                <Header as='h3' color='grey'>Access denied</Header>\n              </Card.Content>\n              <Button onClick={this.handleCloseDenied}>\n                Close Window\n              </Button>\n            </Card>\n          </Container>\n        </Dimmer>\n        <BaristaHeader history={this.props.history} />\n        <Responsive minWidth={Responsive.onlyTablet.minWidth}>\n        <div style={{ height: '12vh' }} />\n          <Menu vertical secondary fixed='left' color='grey' size='massive' style={{ 'zIndex': '1' }}>\n            <div style={{ height: '30vh' }} />\n            <Menu.Item onClick={this.handleAddClick}>\n              <div style={{ height: '2vh' }} />\n              <Container textAlign='center'>\n                <Header as='h2'>\n                  <Icon name='plus' />\n                  ADD ITEM\n                </Header>\n              </Container>\n              <div style={{ height: '2vh' }} />\n            </Menu.Item>\n            <Menu.Item onClick={this.handleDrinksMenuClick}>\n              <div style={{ height: '2vh' }} />\n              <Container textAlign='center'>\n                <Header as='h2'>\n                  <Icon name='coffee' />\n                  DRINKS\n                </Header>\n              </Container>\n              <div style={{ height: '2vh' }} />\n            </Menu.Item>\n\n            <Menu.Item onClick={this.handleFoodMenuClick}>\n              <div style={{ height: '2vh' }} />\n              <Container textAlign='center'>\n                <Header as='h2'>\n                  <Icon name='utensils' />\n                  FOOD\n                </Header>\n              </Container>\n              <div style={{ height: '2vh' }} />\n            </Menu.Item>\n\n            <Menu.Item onClick={this.handleAddOnsMenuClick}>\n              <div style={{ height: '2vh' }} />\n              <Container textAlign='center'>\n                <Header as='h2'>\n                  <Icon name='plus square outline' />\n                  ADD-ONS\n                </Header>\n              </Container>\n              <div style={{ height: '2vh' }} />\n            </Menu.Item>\n          </Menu>\n          {content}\n        </Responsive>\n        <Responsive {...Responsive.onlyMobile}>\n        <div style={{ height: '7vh' }} />\n          {content}\n        </Responsive>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default BaristaInventory;\n"]},"metadata":{},"sourceType":"module"}