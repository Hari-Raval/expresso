{"ast":null,"code":"import _regeneratorRuntime from\"/Users/spoiledhua/Desktop/expresso/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/spoiledhua/Desktop/expresso/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/spoiledhua/Desktop/expresso/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/spoiledhua/Desktop/expresso/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/spoiledhua/Desktop/expresso/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/spoiledhua/Desktop/expresso/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/spoiledhua/Desktop/expresso/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import{Menu,Icon,Image,Container,Header,Responsive,Checkbox,Dimmer,Loader,Card,Button,Label,Sidebar}from'semantic-ui-react';import*as logo from'../Assets/logo.png';import{baristaGetUser,baristaLogout,postStoreStatus,getStoreStatus}from'../Axios/axios_getter';var BaristaHeader=/*#__PURE__*/function(_React$Component){_inherits(BaristaHeader,_React$Component);function BaristaHeader(){var _getPrototypeOf2;var _this;_classCallCheck(this,BaristaHeader);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(BaristaHeader)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={user:null,baristaLogoutConfirm:false,visible:false,loading:false,storeStatus:false};_this.componentDidMount=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this.setState({loading:true});baristaGetUser(JSON.parse(localStorage.getItem('token'))).then(function(user){if(user.user===null){_this.props.history.push({pathname:'/baristalogin',state:{requested:_this.props.history.location.pathname}});}else{_this.setState({user:user.username});}}).catch(function(error){console.log(error);});_this.getStatus();_this.intervalId=setInterval(_this.getStatus,10000);_this.setState({loading:false});case 5:case\"end\":return _context.stop();}}},_callee);}));_this.componentWillUnmount=function(){clearInterval(_this.intervalId);};_this.setVisible=function(){var visible=_this.state.visible;var change=!visible;_this.setState({visible:change});};_this.handlePusher=function(){var visible=_this.state.visible;if(visible)_this.setState({visible:false});};_this.handleOrdersClick=function(){// redirect to current orders page\n_this.setState({loading:true});_this.props.history.push({pathname:'/baristaorders',state:{requested:'/baristaorders'}});_this.setState({loading:false});};_this.handleHistoryClick=function(){// redirect to current orders page\n_this.setState({loading:true});_this.props.history.push({pathname:'/baristahistory',state:{requested:'/baristahistory'}});_this.setState({loading:false});};_this.handleLandingClick=function(){_this.setState({loading:true});_this.props.history.push('/landing');_this.setState({loading:false});};_this.handleInventoryClick=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_this.setState({loading:true});_this.props.history.push({pathname:'/baristainventory',state:{requested:'/baristainventory'}});_this.setState({loading:false});case 3:case\"end\":return _context2.stop();}}},_callee2);}));_this.handleBaristaLogout=function(){_this.setState({loading:true});_this.setState({baristaLogoutConfirm:true});_this.setState({loading:false});};_this.handleBaristaLogoutCancel=function(){_this.setState({baristaLogoutConfirm:false});};_this.handleBaristaLogoutConfirm=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_this.setState({loading:true});baristaLogout().then(function(data){localStorage.setItem('token',JSON.stringify(null));});_this.setState({loading:false});_this.props.history.push('/landing');case 4:case\"end\":return _context3.stop();}}},_callee3);}));_this.getStatus=function(){getStoreStatus(JSON.parse(localStorage.getItem('token'))).then(function(data){_this.setState({storeStatus:data.status});});};_this.handleAcceptingClick=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return postStoreStatus(JSON.parse(localStorage.getItem('token')));case 2:_this.getStatus();case 3:case\"end\":return _context4.stop();}}},_callee4);}));return _this;}_createClass(BaristaHeader,[{key:\"render\",value:function render(){return React.createElement(React.Fragment,null,React.createElement(Responsive,{minWidth:Responsive.onlyTablet.minWidth},React.createElement(Dimmer,{active:this.state.loading,page:true,inverted:true},React.createElement(Loader,{inverted:true},\"Loading\")),React.createElement(Dimmer,{active:this.state.baristaLogoutConfirm,onClickOutside:this.handleBaristaLogoutCancel,page:true},React.createElement(Container,{style:{width:'720px'}},React.createElement(Card,{fluid:true},React.createElement(Card.Content,null,React.createElement(Header,{as:\"h3\",color:\"grey\"},\"Are you sure you want to logout?\")),React.createElement(Button.Group,null,React.createElement(Button,{onClick:this.handleBaristaLogoutCancel},\"Cancel\"),React.createElement(Button,{positive:true,onClick:this.handleBaristaLogoutConfirm,style:{background:'#85A290'}},\"Logout\"))))),React.createElement(Menu,{borderless:true,inverted:true,widths:\"12\",fixed:\"top\",fluid:true,secondary:true,style:{height:'7vh',background:'#BEB19B'}},React.createElement(Menu.Item,{style:{cursor:'pointer',width:'9%'},onClick:this.handleLandingClick},React.createElement(Header,{as:\"h4\",style:{fontFamily:'Avenir',color:'white'}},\"HOME\")),React.createElement(Menu.Item,{style:{cursor:'pointer',width:'9%'},onClick:this.handleOrdersClick},React.createElement(Header,{as:\"h4\",style:{fontFamily:'Avenir',color:'white'}},\"ORDERS\")),React.createElement(Menu.Item,{style:{cursor:'pointer',width:'9%'},onClick:this.handleHistoryClick},React.createElement(Header,{as:\"h4\",style:{fontFamily:'Avenir',color:'white'}},\"HISTORY\")),React.createElement(Menu.Item,{style:{cursor:'pointer',width:'11%'},onClick:this.handleInventoryClick},React.createElement(Header,{as:\"h4\",style:{fontFamily:'Avenir',color:'white'}},\"INVENTORY\")),React.createElement(Menu.Item,{style:{cursor:'pointer',width:'24%'},onClick:this.handleLandingClick},React.createElement(Header,{as:\"h2\",style:{fontFamily:'Didot',color:'white',fontStyle:'italic'}},\"\\xB7 the coffee club \\xB7\")),React.createElement(Menu.Item,{style:{width:'10%'}}),React.createElement(Menu.Item,{position:\"right\",style:{width:'21%',marginTop:'1em'}},React.createElement(Header,null,React.createElement(Checkbox,{toggle:true,checked:this.state.storeStatus,onChange:this.handleAcceptingClick,style:{marginRight:'1em'}}),React.createElement(Label,{as:\"h3\",style:{background:'None',marginLeft:'-10%',marginBottom:'5%',color:'white'}},\" ACCEPTING ORDERS \"))),React.createElement(Menu.Item,{position:\"right\",onClick:this.handleBaristaLogout},React.createElement(Header,{as:\"h4\",style:{fontFamily:'Avenir',color:'white'}},\"LOGOUT\")))),React.createElement(Responsive,Responsive.onlyMobile,React.createElement(Dimmer,{active:this.state.loading,page:true,inverted:true},React.createElement(Loader,{inverted:true},\"Loading\")),React.createElement(Dimmer,{active:this.state.baristaLogoutConfirm,onClickOutside:this.handleBaristaLogoutCancel,page:true},React.createElement(Container,{style:{width:'720px'}},React.createElement(Card,{fluid:true},React.createElement(Card.Content,null,React.createElement(Header,{as:\"h3\",color:\"grey\"},\"Are you sure you want to logout?\")),React.createElement(Button.Group,null,React.createElement(Button,{onClick:this.handleBaristaLogoutCancel},\"Cancel\"),React.createElement(Button,{positive:true,onClick:this.handleBaristaLogoutConfirm},\"Logout\"))))),React.createElement(Sidebar,{as:Menu,animation:\"push\",fluid:true,vertical:true,inverted:true,borderless:true,visible:this.state.visible,style:{background:'#EDAC86'}},React.createElement(Menu.Item,null,React.createElement(Icon,{name:\"x\",size:\"large\",style:{cursor:'pointer',color:'black'},onClick:this.handlePusher})),React.createElement(Menu.Item,{style:{height:'12vh'}}),React.createElement(Menu.Item,null,React.createElement(Image,{centered:true,src:logo,size:\"mini\"})),React.createElement(Menu.Item,null,React.createElement(\"hr\",null)),React.createElement(Menu.Item,{onClick:this.handleOrdersClick},React.createElement(Header,{as:\"h2\",style:{paddingLeft:'5%',color:'black',textAlign:'left',fontFamily:'Didot',fontStyle:'italic'}},React.createElement(\"span\",null,\"01.\\xA0\\xA0\\xA0\\xA0Orders\"))),React.createElement(Menu.Item,{onClick:this.handleHistoryClick},React.createElement(Header,{as:\"h2\",style:{paddingLeft:'5%',color:'black',textAlign:'left',fontFamily:'Didot',fontStyle:'italic'}},React.createElement(\"span\",null,\"02.\\xA0\\xA0\\xA0\\xA0History\"))),React.createElement(Menu.Item,{onClick:this.handleInventoryClick},React.createElement(Header,{as:\"h2\",style:{paddingLeft:'5%',color:'black',textAlign:'left',fontFamily:'Didot',fontStyle:'italic'}},React.createElement(\"span\",null,\"03.\\xA0\\xA0\\xA0\\xA0Inventory\"))),React.createElement(Menu.Item,{onClick:this.handleBaristaLogout},React.createElement(Header,{as:\"h2\",style:{paddingLeft:'5%',color:'black',textAlign:'left',fontFamily:'Didot',fontStyle:'italic'}},React.createElement(\"span\",null,\"04.\\xA0\\xA0\\xA0\\xA0Logout\"))),React.createElement(Menu.Item,null,React.createElement(\"hr\",null)),React.createElement(Menu.Item,null),React.createElement(Menu.Item,null),React.createElement(Menu.Item,null),React.createElement(Menu.Item,null),React.createElement(Menu.Item,null),React.createElement(Menu.Item,null),React.createElement(Menu.Item,null),React.createElement(Menu.Item,null,React.createElement(Header,{as:\"h5\",style:{textAlign:'center',fontFamily:'Didot',fontStyle:'italic',color:'white'}},\"\\xA9 2020 Expresso\"))),React.createElement(Menu,{inverted:true,fixed:\"top\",fluid:true,widths:\"7\",secondary:true,style:{height:'7vh',background:'#BEB19B'}},React.createElement(Menu.Item,null),React.createElement(Menu.Item,{style:{width:'10%'}},React.createElement(Icon,{name:\"sidebar\",style:{color:'white'},onClick:this.setVisible})),React.createElement(Menu.Item,null),React.createElement(Menu.Item,{style:{width:'35%'},onClick:this.handleLandingClick},React.createElement(Header,{as:\"h3\",style:{fontFamily:'Didot',color:'white',fontStyle:'italic'}},\"\\xB7 the coffee club \\xB7\")),React.createElement(Menu.Item,null),React.createElement(Menu.Item,{position:\"right\",onClick:this.handleOrderItemClick},React.createElement(Header,{as:\"h4\"},React.createElement(Checkbox,{toggle:true,checked:this.state.storeStatus,onClick:this.handleAcceptingClick,style:{marginRight:'1em'}}))),React.createElement(Menu.Item,null))));}}]);return BaristaHeader;}(React.Component);export default BaristaHeader;","map":{"version":3,"sources":["/Users/spoiledhua/Desktop/expresso/frontend/src/Components/BaristaHeader.js"],"names":["React","Menu","Icon","Image","Container","Header","Responsive","Checkbox","Dimmer","Loader","Card","Button","Label","Sidebar","logo","baristaGetUser","baristaLogout","postStoreStatus","getStoreStatus","BaristaHeader","state","user","baristaLogoutConfirm","visible","loading","storeStatus","componentDidMount","setState","JSON","parse","localStorage","getItem","then","props","history","push","pathname","requested","location","username","catch","error","console","log","getStatus","intervalId","setInterval","componentWillUnmount","clearInterval","setVisible","change","handlePusher","handleOrdersClick","handleHistoryClick","handleLandingClick","handleInventoryClick","handleBaristaLogout","handleBaristaLogoutCancel","handleBaristaLogoutConfirm","data","setItem","stringify","status","handleAcceptingClick","onlyTablet","minWidth","width","background","height","cursor","fontFamily","color","fontStyle","marginTop","marginRight","marginLeft","marginBottom","onlyMobile","paddingLeft","textAlign","handleOrderItemClick","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Menu, Icon, Image, Container, Header, Responsive, Checkbox, Dimmer, Loader, Card, Button, Label, Sidebar } from 'semantic-ui-react';\nimport * as logo from '../Assets/logo.png';\n\nimport { baristaGetUser, baristaLogout, postStoreStatus, getStoreStatus } from '../Axios/axios_getter';\n\n\nclass BaristaHeader extends React.Component {\n\n  state = {\n    user: null,\n    baristaLogoutConfirm: false,\n    visible: false,\n    loading: false,\n    storeStatus: false\n  }\n\n  componentDidMount = async () => {\n    this.setState({ loading: true });\n    baristaGetUser(JSON.parse(localStorage.getItem('token')))\n      .then(user => {\n        if (user.user === null) {\n          this.props.history.push({\n            pathname: '/baristalogin',\n            state: { requested: this.props.history.location.pathname }\n          });\n        }\n        else {\n          this.setState({ user: user.username });\n        }\n      })\n      .catch(error => {\n        console.log(error);\n      });\n    this.getStatus();\n    this.intervalId = setInterval(this.getStatus, 10000);\n    this.setState({ loading: false });\n  }\n\n  componentWillUnmount = () => {\n    clearInterval(this.intervalId);\n  }\n\n  setVisible = () => {\n    const { visible } = this.state;\n    const change = !visible\n    this.setState({ visible: change });\n  }\n\n  handlePusher = () => {\n    const { visible } = this.state;\n    if (visible) this.setState({ visible: false });\n  }\n\n  handleOrdersClick = () => {\n    // redirect to current orders page\n    this.setState({ loading: true });\n    this.props.history.push({\n      pathname: '/baristaorders',\n      state: { requested: '/baristaorders' }\n    });\n    this.setState({ loading: false });\n  }\n\n  handleHistoryClick = () => {\n    // redirect to current orders page\n    this.setState({ loading: true });\n    this.props.history.push({\n      pathname: '/baristahistory',\n      state: { requested: '/baristahistory' }\n    });\n    this.setState({ loading: false });\n  }\n\n  handleLandingClick = () => {\n    this.setState({ loading: true });\n    this.props.history.push('/landing');\n    this.setState({ loading: false });\n  }\n\n  handleInventoryClick = async () => {\n    this.setState({ loading: true });\n    this.props.history.push({\n      pathname: '/baristainventory',\n      state: { requested: '/baristainventory' }\n    });\n    this.setState({ loading: false });\n  }\n\n  handleBaristaLogout = () => {\n    this.setState({ loading: true });\n    this.setState({ baristaLogoutConfirm: true });\n    this.setState({ loading: false });\n  }\n\n  handleBaristaLogoutCancel = () => {\n    this.setState({ baristaLogoutConfirm: false });\n  }\n\n  handleBaristaLogoutConfirm = async () => {\n    this.setState({ loading: true });\n    baristaLogout()\n      .then(data => {\n        localStorage.setItem('token', JSON.stringify(null));\n      })\n    this.setState({ loading: false });\n    this.props.history.push('/landing');\n  }\n\n  getStatus = () => {\n    getStoreStatus(JSON.parse(localStorage.getItem('token')))\n      .then(data => {\n        this.setState({ storeStatus: data.status });\n      });\n  }\n\n  handleAcceptingClick = async () => {\n    await postStoreStatus(JSON.parse(localStorage.getItem('token')));\n    this.getStatus();\n  }\n\n  render() {\n\n    return (\n      <React.Fragment>\n        <Responsive minWidth={Responsive.onlyTablet.minWidth}>\n          <Dimmer active={this.state.loading} page inverted>\n            <Loader inverted>Loading</Loader>\n          </Dimmer>\n          <Dimmer active={this.state.baristaLogoutConfirm} onClickOutside={this.handleBaristaLogoutCancel} page>\n            <Container style={{ width: '720px' }}>\n              <Card fluid>\n                <Card.Content>\n                  <Header as='h3' color='grey'>Are you sure you want to logout?</Header>\n                </Card.Content>\n                <Button.Group>\n                  <Button onClick={this.handleBaristaLogoutCancel}>Cancel</Button>\n                  <Button positive onClick={this.handleBaristaLogoutConfirm} style={{ background: '#85A290' }}>Logout</Button>\n                </Button.Group>\n              </Card>\n            </Container>\n          </Dimmer>\n          {/* Top Menu */}\n          <Menu borderless inverted widths='12' fixed=\"top\" fluid secondary style={{ height: '7vh', background: '#BEB19B' }}>\n            <Menu.Item style={{cursor: 'pointer', width:'9%'}} onClick={this.handleLandingClick}>\n              <Header as='h4' style={{fontFamily:'Avenir', color: 'white'}}>\n                HOME\n              </Header>\n            </Menu.Item>\n            <Menu.Item style={{cursor: 'pointer', width:'9%'}} onClick={this.handleOrdersClick}>\n              <Header as='h4' style={{fontFamily:'Avenir', color:'white'}}>\n                ORDERS\n              </Header>\n            </Menu.Item>\n            <Menu.Item style={{cursor: 'pointer', width:'9%'}} onClick={this.handleHistoryClick}>\n              <Header as='h4' style={{fontFamily:'Avenir', color:'white'}}>\n                HISTORY\n              </Header>\n            </Menu.Item>\n            <Menu.Item style={{cursor: 'pointer', width:'11%'}} onClick={this.handleInventoryClick}>\n              <Header as='h4' style={{fontFamily:'Avenir', color:'white'}}>\n                INVENTORY\n              </Header>\n            </Menu.Item>\n            <Menu.Item style={{cursor: 'pointer', width:'24%'}} onClick={this.handleLandingClick}>\n              <Header as='h2' style={{fontFamily:'Didot', color: 'white', fontStyle:'italic'}}>\n                · the coffee club ·\n              </Header>\n            </Menu.Item>\n            <Menu.Item style={{width:'10%'}} />\n            <Menu.Item position='right' style={{width:'21%', marginTop:'1em'}} >\n              <Header>\n                <Checkbox toggle checked={this.state.storeStatus} onChange={this.handleAcceptingClick} style={{marginRight:'1em'}} />\n                <Label as='h3' style={{background:'None', marginLeft:'-10%', marginBottom:'5%', color:'white'}}> ACCEPTING ORDERS </Label>\n              </Header>\n            </Menu.Item>\n            <Menu.Item position='right' onClick={this.handleBaristaLogout}>\n              <Header as='h4' style={{fontFamily:'Avenir', color:'white'}}>\n                LOGOUT\n              </Header>\n            </Menu.Item>\n          </Menu>\n\n\n        </Responsive>\n        <Responsive {...Responsive.onlyMobile}>\n          <Dimmer active={this.state.loading} page inverted>\n            <Loader inverted>Loading</Loader>\n          </Dimmer>\n          <Dimmer active={this.state.baristaLogoutConfirm} onClickOutside={this.handleBaristaLogoutCancel} page>\n            <Container style={{ width: '720px' }}>\n              <Card fluid>\n                <Card.Content>\n                  <Header as='h3' color='grey'>Are you sure you want to logout?</Header>\n                </Card.Content>\n                <Button.Group>\n                  <Button onClick={this.handleBaristaLogoutCancel}>Cancel</Button>\n                  <Button positive onClick={this.handleBaristaLogoutConfirm}>Logout</Button>\n                </Button.Group>\n              </Card>\n            </Container>\n          </Dimmer>\n          <Sidebar\n            as={Menu}\n            animation='push'\n            fluid\n            vertical\n            inverted\n            borderless\n            visible={this.state.visible}\n            style={{background: '#EDAC86'}}\n          >\n            <Menu.Item>\n              <Icon name='x' size='large' style={{cursor:'pointer', color:'black'}} onClick={this.handlePusher}/>\n            </Menu.Item>\n            <Menu.Item style={{height:'12vh'}}/>\n            <Menu.Item>\n              <Image centered={true} src={logo} size='mini'/>\n            </Menu.Item>\n            <Menu.Item>\n              <hr></hr>\n            </Menu.Item>\n            <Menu.Item onClick={this.handleOrdersClick}>\n              <Header as='h2' style={{paddingLeft:'5%',color:'black', textAlign:'left', fontFamily:'Didot', fontStyle:'italic'}}>\n                <span>01.&nbsp;&nbsp;&nbsp;&nbsp;Orders</span>\n              </Header>\n            </Menu.Item>\n            <Menu.Item onClick={this.handleHistoryClick}>\n              <Header as='h2' style={{paddingLeft:'5%',color:'black', textAlign:'left', fontFamily:'Didot', fontStyle:'italic'}}>\n                <span>02.&nbsp;&nbsp;&nbsp;&nbsp;History</span>\n              </Header>\n            </Menu.Item>\n            <Menu.Item onClick={this.handleInventoryClick}>\n              <Header as='h2' style={{paddingLeft:'5%',color:'black', textAlign:'left', fontFamily:'Didot', fontStyle:'italic'}}>\n                <span>03.&nbsp;&nbsp;&nbsp;&nbsp;Inventory</span>\n              </Header>\n            </Menu.Item>\n            <Menu.Item onClick={this.handleBaristaLogout}>\n              <Header as='h2' style={{paddingLeft:'5%',color:'black', textAlign:'left', fontFamily:'Didot', fontStyle:'italic'}}>\n                <span>04.&nbsp;&nbsp;&nbsp;&nbsp;Logout</span>\n              </Header>\n            </Menu.Item>\n            <Menu.Item>\n              <hr></hr>\n            </Menu.Item>\n            <Menu.Item />\n            <Menu.Item />\n            <Menu.Item />\n            <Menu.Item />\n            <Menu.Item />\n            <Menu.Item />\n            <Menu.Item />\n            <Menu.Item>\n              <Header as='h5' style={{textAlign:'center', fontFamily:'Didot', fontStyle:'italic', color:'white'}}>\n                © 2020 Expresso\n              </Header>\n            </Menu.Item>\n          </Sidebar>\n          <Menu inverted fixed=\"top\" fluid widths='7' secondary style={{ height: '7vh', background: '#BEB19B' }}>\n            <Menu.Item />\n            <Menu.Item style={{width:'10%'}}>\n              <Icon name='sidebar' style={{color:'white'}} onClick={this.setVisible}/>\n            </Menu.Item>\n            <Menu.Item/>\n            <Menu.Item style={{width:'35%'}} onClick={this.handleLandingClick}>\n              <Header as='h3' style={{fontFamily:'Didot', color: 'white', fontStyle:'italic'}}>\n                · the coffee club ·\n              </Header>\n            </Menu.Item>\n            <Menu.Item/>\n            <Menu.Item position='right' onClick={this.handleOrderItemClick}>\n              <Header as='h4'>\n                <Checkbox toggle checked={this.state.storeStatus} onClick={this.handleAcceptingClick} style={{marginRight:'1em'}} />\n              </Header>\n            </Menu.Item>\n            <Menu.Item/>\n          </Menu>\n        </Responsive>\n      </React.Fragment>\n    );\n  };\n}\n\n\nexport default BaristaHeader;\n"]},"metadata":{},"sourceType":"module"}