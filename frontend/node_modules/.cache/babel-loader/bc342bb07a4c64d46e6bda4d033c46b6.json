{"ast":null,"code":"import _regeneratorRuntime from\"/Users/spoiledhua/Desktop/expresso/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/spoiledhua/Desktop/expresso/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/spoiledhua/Desktop/expresso/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _classCallCheck from\"/Users/spoiledhua/Desktop/expresso/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/spoiledhua/Desktop/expresso/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/spoiledhua/Desktop/expresso/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/spoiledhua/Desktop/expresso/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/spoiledhua/Desktop/expresso/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import{Menu,Icon,Image,Container,Header,Grid,Dimmer,Loader,Item,List,Responsive,Card,Button,Sticky,Ref,Rail}from'semantic-ui-react';import MenuBar from'./MenuBar';import ItemPopUp from'./ItemPopUp';import{getAllItems,authenticate}from'../Axios/axios_getter';var MenuPage=/*#__PURE__*/function(_React$Component){_inherits(MenuPage,_React$Component);function MenuPage(props){var _this;_classCallCheck(this,MenuPage);_this=_possibleConstructorReturn(this,_getPrototypeOf(MenuPage).call(this,props));_this.state={active:false,selected:null,loading:false,drinks:[],food:[]};_this.componentDidMount=function(){_this.setState({loading:true});getAllItems().then(function(menu){var allItems=new Map();var addons=[];for(var i=0;i<menu.length;i++){var current=menu[i];// if item is add-on, handle it differently\nif(current.category=='Add'){var newItem={name:current.item,price:current.price,availability:current.availability};addons.push(newItem);}// if item is already in dict, add the new size and price\nif(allItems.has(current.item)){var sp=[current.size,current.price];var temp=allItems.get(current.item);temp.sp.push(sp);allItems.set(current.item,temp);}// otherwise add a completely new item\nelse{var image='data:image/png;base64,'+current.image;var _newItem={name:current.item,sp:[[current.size,current.price]],description:current.description,category:current.category,image:image,availability:current.availability};allItems.set(current.item,_newItem);}}// separate items into drinks or food\nvar drinks=[];var food=[];var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=allItems[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var _ref3=_step.value;var _ref2=_slicedToArray(_ref3,2);var key=_ref2[0];var value=_ref2[1];if(allItems.get(key).category=='Drink'){var _current=allItems.get(key);_current.addons=addons;drinks.push(_current);}if(allItems.get(key).category=='Food'){var _current2=allItems.get(key);_current2.addons=[];food.push(_current2);}}}catch(err){_didIteratorError=true;_iteratorError=err;}finally{try{if(!_iteratorNormalCompletion&&_iterator.return!=null){_iterator.return();}}finally{if(_didIteratorError){throw _iteratorError;}}}_this.setState({drinks:drinks});_this.setState({food:food});});_this.setState({loading:false});};_this.handleClose=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _this.setState({loading:true});case 2:_context.next=4;return _this.setState({active:false});case 4:_context.next=6;return _this.setState({loading:false});case 6:case\"end\":return _context.stop();}}},_callee);}));_this.handleDrinksMenuClick=function(){// speed scroll to Drinks\nwindow.scrollTo(0,_this.drinkRef.current.offsetTop);};_this.handleFoodMenuClick=function(){// speed scroll to Food\nwindow.scrollTo(0,_this.foodRef.current.offsetTop);};_this.handleItemClick=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(item){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return _this.setState({loading:true});case 2:_context2.next=4;return _this.setState({selected:item});case 4:_context2.next=6;return _this.setState({active:true});case 6:_context2.next=8;return _this.setState({loading:false});case 8:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x){return _ref5.apply(this,arguments);};}();_this.handleItemSubmit=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(item){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return _this.setState({loading:true});case 2:_context3.next=4;return _this.props.handleItemSubmit(item);case 4:_context3.next=6;return _this.handleClose();case 6:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x2){return _ref6.apply(this,arguments);};}();_this.handleFeedback=function(e){// link to feedback form\n};_this.drinkRef=React.createRef();_this.foodRef=React.createRef();_this.contextRef=React.createRef();return _this;}_createClass(MenuPage,[{key:\"render\",value:function render(){var _this2=this;return React.createElement(React.Fragment,null,React.createElement(Responsive,{minWidth:Responsive.onlyTablet.minWidth},React.createElement(Dimmer,{active:this.state.loading,inverted:true,page:true},React.createElement(Loader,{inverted:true},\"Loading\")),React.createElement(Dimmer,{active:this.state.active,onClickOutside:this.handleClose,page:true},React.createElement(Container,{style:{width:'720px'}},React.createElement(ItemPopUp,{handleClose:this.handleClose,handleItemSubmit:this.handleItemSubmit,item:this.state.selected}))),React.createElement(Menu,{vertical:true,secondary:true,style:{width:'23vw'},fixed:\"left\",size:\"massive\"},React.createElement(\"div\",{style:{height:'30vh'}}),React.createElement(Menu.Item,{onClick:this.handleDrinksMenuClick},React.createElement(\"div\",{style:{height:'2vh'}}),React.createElement(Container,{textAlign:\"center\"},React.createElement(Header,{as:\"h2\"},React.createElement(Icon,{name:\"coffee\"}),\"DRINKS\")),React.createElement(\"div\",{style:{height:'2vh'}})),React.createElement(Menu.Item,{onClick:this.handleFoodMenuClick},React.createElement(\"div\",{style:{height:'2vh'}}),React.createElement(Container,{textAlign:\"center\"},React.createElement(Header,{as:\"h2\"},React.createElement(Icon,{name:\"utensils\"}),\"FOOD\")),React.createElement(\"div\",{style:{height:'2vh'}}))),React.createElement(Grid,{stackable:true},React.createElement(Grid.Row,null,React.createElement(Grid.Column,{width:\"4\"}),React.createElement(Grid.Column,{width:\"9\"},React.createElement(Grid,{divided:\"vertically\"},React.createElement(Grid.Row,null,React.createElement(Header,{style:{'fontSize':'3em'}},\"MENU\")),React.createElement(Grid.Row,null,React.createElement(Grid.Column,{width:\"1\"}),React.createElement(Grid.Column,{width:\"15\"},React.createElement(\"div\",{style:{height:'2em'}}),React.createElement(Grid,null,React.createElement(\"div\",{ref:this.drinkRef}),React.createElement(Grid.Row,null,React.createElement(Header,{style:{'fontSize':'2em'}},\"DRINKS\")),React.createElement(Grid.Row,null,React.createElement(Grid.Column,{width:\"1\"}),React.createElement(Grid.Column,{width:\"15\"},React.createElement(Item.Group,null,this.state.drinks.map(function(drink){console.log(drink);return React.createElement(MenuBar,{id:drink.name,handleItemClick:_this2.handleItemClick,item:drink});})))),React.createElement(\"div\",{style:{height:'2em'}}),React.createElement(\"div\",{ref:this.foodRef}),React.createElement(Grid.Row,null,React.createElement(Header,{style:{'fontSize':'2em'}},\"FOOD\")),React.createElement(Grid.Row,null,React.createElement(Grid.Column,{width:\"1\"}),React.createElement(Grid.Column,{width:\"15\"},React.createElement(Item.Group,null,this.state.food.map(function(food){return React.createElement(MenuBar,{id:food.name,handleItemClick:_this2.handleItemClick,item:food});}))))))))),React.createElement(Grid.Column,{width:\"2\"},React.createElement(Card,{raised:true},React.createElement(Card.Content,{textAlign:\"center\"},\"Loving online ordering? Leave us some feedback\",React.createElement(Button,{circular:true,size:\"mini\",basic:true,color:\"black\",onClick:this.handleFeedback},\"HERE\")))),React.createElement(Grid.Column,{width:\"1\"})))),React.createElement(Responsive,Responsive.onlyMobile,React.createElement(Dimmer,{active:this.state.loading,inverted:true,page:true},React.createElement(Loader,{inverted:true},\"Loading\")),React.createElement(Dimmer,{active:this.state.active,onClickOutside:this.handleClose,page:true},React.createElement(Container,{style:{width:'720px'}},React.createElement(ItemPopUp,{handleClose:this.handleClose,handleItemSubmit:this.handleItemSubmit,item:this.state.selected,add:this.state.add}))),React.createElement(Container,{style:{width:'480px'}},React.createElement(Grid,{stackable:true},React.createElement(Grid.Row,null,React.createElement(Grid.Column,null,React.createElement(Grid,{divided:\"vertically\"},React.createElement(Grid.Row,null,React.createElement(\"div\",{style:{width:'8vw'}}),React.createElement(Header,{style:{'fontSize':'3em'}},\"MENU\")),React.createElement(Grid.Row,null,React.createElement(Grid.Column,{width:\"1\"}),React.createElement(Grid.Column,{width:\"15\"},React.createElement(Grid,null,React.createElement(Grid.Row,null,React.createElement(\"div\",{style:{width:'12vw'}}),React.createElement(Header,{style:{'fontSize':'2em'}},\"DRINKS\")),React.createElement(Grid.Row,null,React.createElement(Grid.Column,{width:\"1\"}),React.createElement(Grid.Column,{width:\"15\"},React.createElement(Item.Group,null,this.state.drinks.map(function(drink){return React.createElement(MenuBar,{id:drink.name,handleItemClick:_this2.handleItemClick,item:drink});})))),React.createElement(Grid.Row,null,React.createElement(\"div\",{style:{width:'12vw'}}),React.createElement(Header,{style:{'fontSize':'2em'}},\"FOOD\")),React.createElement(Grid.Row,null,React.createElement(Grid.Column,{width:\"1\"}),React.createElement(Grid.Column,{width:\"15\"},React.createElement(Item.Group,null,this.state.food.map(function(food){return React.createElement(MenuBar,{id:food.name,handleItemClick:_this2.handleItemClick,item:food});}))))))))),React.createElement(Grid.Column,{width:\"2\"}))))));}}]);return MenuPage;}(React.Component);export default MenuPage;","map":{"version":3,"sources":["/Users/spoiledhua/Desktop/expresso/frontend/src/Components/MenuPage.js"],"names":["React","Menu","Icon","Image","Container","Header","Grid","Dimmer","Loader","Item","List","Responsive","Card","Button","Sticky","Ref","Rail","MenuBar","ItemPopUp","getAllItems","authenticate","MenuPage","props","state","active","selected","loading","drinks","food","componentDidMount","setState","then","menu","allItems","Map","addons","i","length","current","category","newItem","name","item","price","availability","push","has","sp","size","temp","get","set","image","description","key","value","handleClose","handleDrinksMenuClick","window","scrollTo","drinkRef","offsetTop","handleFoodMenuClick","foodRef","handleItemClick","handleItemSubmit","handleFeedback","e","createRef","contextRef","onlyTablet","minWidth","width","height","map","drink","console","log","onlyMobile","add","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Menu, Icon, Image, Container, Header, Grid, Dimmer, Loader, Item, List, Responsive, Card, Button, Sticky, Ref, Rail } from 'semantic-ui-react';\n\nimport MenuBar from './MenuBar';\nimport ItemPopUp from './ItemPopUp';\n\nimport { getAllItems, authenticate } from '../Axios/axios_getter';\n\nclass MenuPage extends React.Component {\n\n\n  constructor(props) {\n    super(props)\n    this.drinkRef = React.createRef()\n    this.foodRef = React.createRef()\n    this.contextRef = React.createRef()\n  }\n\n  state = {\n    active: false,\n    selected: null,\n    loading: false,\n    drinks: [],\n    food: []\n  }\n\n  componentDidMount = () => {\n    this.setState({ loading: true });\n\n    getAllItems()\n      .then(menu => {\n        let allItems = new Map();\n        let addons = [];\n        for (let i = 0; i < menu.length; i++) {\n          let current = menu[i];\n          // if item is add-on, handle it differently\n          if (current.category == 'Add') {\n            let newItem = {\n              name: current.item,\n              price: current.price,\n              availability: current.availability\n            }\n            addons.push(newItem);\n          }\n          // if item is already in dict, add the new size and price\n          if (allItems.has(current.item)) {\n            let sp = [current.size, current.price];\n            let temp = allItems.get(current.item);\n            temp.sp.push(sp);\n            allItems.set(current.item, temp);\n          }\n          // otherwise add a completely new item\n          else {\n            let image = 'data:image/png;base64,' + current.image;\n            let newItem = {\n              name: current.item,\n              sp: [[current.size, current.price]],\n              description: current.description,\n              category: current.category,\n              image: image,\n              availability: current.availability\n            }\n            allItems.set(current.item, newItem);\n          }\n        }\n        // separate items into drinks or food\n        let drinks = [];\n        let food = [];\n        for (const [key, value] of allItems) {\n          if (allItems.get(key).category == 'Drink') {\n            const current = allItems.get(key);\n            current.addons = addons;\n            drinks.push(current);\n          }\n          if (allItems.get(key).category == 'Food') {\n            const current = allItems.get(key);\n            current.addons = [];\n            food.push(current);\n          }\n        }\n        this.setState({ drinks: drinks });\n        this.setState({ food: food });\n      }\n      );\n    this.setState({ loading: false });\n  }\n\n  handleClose = async () => {\n    await this.setState({ loading: true });\n    await this.setState({ active: false });\n    await this.setState({ loading: false });\n  }\n\n  handleDrinksMenuClick = () => {\n    // speed scroll to Drinks\n    window.scrollTo(0, this.drinkRef.current.offsetTop)\n  }\n\n  handleFoodMenuClick = () => {\n    // speed scroll to Food\n    window.scrollTo(0, this.foodRef.current.offsetTop)\n  }\n\n  handleItemClick = async (item) => {\n    await this.setState({ loading: true });\n    await this.setState({ selected: item });\n    await this.setState({ active: true });\n    await this.setState({ loading: false });\n\n  }\n\n  handleItemSubmit = async (item) => {\n    await this.setState({ loading: true });\n    await this.props.handleItemSubmit(item);\n    await this.handleClose()\n  }\n\n  handleFeedback = (e) => {\n    // link to feedback form\n  }\n\n  render() {\n\n    return (\n      <React.Fragment>\n        <Responsive minWidth={Responsive.onlyTablet.minWidth}>\n          <Dimmer active={this.state.loading} inverted page>\n            <Loader inverted>Loading</Loader>\n          </Dimmer>\n          <Dimmer active={this.state.active} onClickOutside={this.handleClose} page>\n            <Container style={{ width: '720px' }}>\n              <ItemPopUp handleClose={this.handleClose} handleItemSubmit={this.handleItemSubmit} item={this.state.selected} />\n            </Container>\n          </Dimmer>\n          <Menu vertical secondary style={{ width: '23vw' }} fixed='left' size='massive'>\n            <div style={{ height: '30vh' }} />\n            <Menu.Item onClick={this.handleDrinksMenuClick}>\n              <div style={{ height: '2vh' }} />\n              <Container textAlign='center'>\n                <Header as='h2'>\n                  <Icon name='coffee' />\n                  DRINKS\n                </Header>\n              </Container>\n              <div style={{ height: '2vh' }} />\n            </Menu.Item>\n            <Menu.Item onClick={this.handleFoodMenuClick}>\n              <div style={{ height: '2vh' }} />\n              <Container textAlign='center'>\n                <Header as='h2'>\n                  <Icon name='utensils' />\n                  FOOD\n                </Header>\n              </Container>\n              <div style={{ height: '2vh' }} />\n            </Menu.Item>\n          </Menu>\n          {/* Main Content */}\n          <Grid stackable>\n            <Grid.Row>\n              <Grid.Column width='4' />\n              <Grid.Column width='9'>\n                <Grid divided='vertically'>\n                  <Grid.Row>\n                    <Header style={{ 'fontSize': '3em' }}>\n                      MENU\n                    </Header>\n                  </Grid.Row>\n                  <Grid.Row>\n                    <Grid.Column width='1' />\n                    <Grid.Column width='15'>\n                      <div style={{ height: '2em' }} />\n                      <Grid>\n                        {/* Drinks Section */}\n                        <div ref={this.drinkRef}></div>\n                        <Grid.Row >\n                          <Header style={{ 'fontSize': '2em' }}>DRINKS</Header>\n                        </Grid.Row>\n                        <Grid.Row>\n                          <Grid.Column width='1' />\n                          <Grid.Column width='15'>\n                            <Item.Group>\n                              {this.state.drinks.map(drink => {\n                                console.log(drink)\n                                return (\n                                  <MenuBar\n                                    id={drink.name}\n                                    handleItemClick={this.handleItemClick}\n                                    item={drink}\n                                  />\n                                )\n                              })}\n                            </Item.Group>\n                          </Grid.Column>\n                        </Grid.Row>\n                        <div style={{ height: '2em' }} />\n                        {/* Food Section */}\n                        <div ref={this.foodRef}></div>\n                        <Grid.Row>\n                          <Header style={{ 'fontSize': '2em' }}>FOOD</Header>\n                        </Grid.Row>\n                        <Grid.Row>\n                          <Grid.Column width='1' />\n                          <Grid.Column width='15'>\n                            <Item.Group>\n                              {this.state.food.map(food => {\n                                return (\n                                  <MenuBar\n                                    id={food.name}\n                                    handleItemClick={this.handleItemClick}\n                                    item={food} />\n                                )\n                              })}\n                            </Item.Group>\n                          </Grid.Column>\n                        </Grid.Row>\n                      </Grid>\n                    </Grid.Column>\n                  </Grid.Row>\n                </Grid>\n              </Grid.Column>\n              <Grid.Column width='2'>\n                {/*<Ref innerRef={this.contextRef}>\n                  <Rail position='right'>\n                <Sticky context={this.contextRef}>*/}\n                <Card raised>\n                  <Card.Content textAlign='center'>\n                    Loving online ordering? Leave us some feedback\n                    <Button circular size='mini' basic color='black' onClick={this.handleFeedback}>HERE</Button>\n                  </Card.Content>\n                </Card>\n                {/*</Sticky>\n                  </Rail>\n                </Ref>*/}\n              </Grid.Column>\n              <Grid.Column width='1' />\n            </Grid.Row>\n          </Grid>\n        </Responsive>\n        <Responsive {...Responsive.onlyMobile}>\n          <Dimmer active={this.state.loading} inverted page>\n            <Loader inverted>Loading</Loader>\n          </Dimmer>\n          <Dimmer active={this.state.active} onClickOutside={this.handleClose} page>\n            <Container style={{ width: '720px' }}>\n              <ItemPopUp handleClose={this.handleClose} handleItemSubmit={this.handleItemSubmit} item={this.state.selected} add={this.state.add} />\n            </Container>\n          </Dimmer>\n          {/* Main Content */}\n          <Container style={{ width: '480px' }}>\n            <Grid stackable>\n              <Grid.Row>\n                <Grid.Column>\n                  <Grid divided='vertically'>\n                    <Grid.Row>\n                      <div style={{ width: '8vw' }} />\n                      <Header style={{ 'fontSize': '3em' }}>\n                        MENU\n                      </Header>\n                    </Grid.Row>\n                    <Grid.Row>\n                      <Grid.Column width='1' />\n                      <Grid.Column width='15'>\n                        <Grid>\n                          {/* Drinks Section */}\n                          <Grid.Row >\n                            <div style={{ width: '12vw' }} />\n                            <Header style={{ 'fontSize': '2em' }}>DRINKS</Header>\n                          </Grid.Row>\n                          <Grid.Row>\n                            <Grid.Column width='1' />\n                            <Grid.Column width='15'>\n                              <Item.Group>\n                                {this.state.drinks.map(drink => {\n                                  return (\n                                    <MenuBar\n                                      id={drink.name}\n                                      handleItemClick={this.handleItemClick}\n                                      item={drink}\n                                    />\n                                  )\n                                })}\n                              </Item.Group>\n                            </Grid.Column>\n                          </Grid.Row>\n                          {/* Food Section */}\n                          <Grid.Row>\n                            <div style={{ width: '12vw' }} />\n                            <Header style={{ 'fontSize': '2em' }}>FOOD</Header>\n                          </Grid.Row>\n                          <Grid.Row>\n                            <Grid.Column width='1' />\n                            <Grid.Column width='15'>\n                              <Item.Group>\n                                {this.state.food.map(food => {\n                                  return (\n                                    <MenuBar\n                                      id={food.name}\n                                      handleItemClick={this.handleItemClick}\n                                      item={food} />\n                                  )\n                                })}\n                              </Item.Group>\n                            </Grid.Column>\n                          </Grid.Row>\n                        </Grid>\n                      </Grid.Column>\n                    </Grid.Row>\n                  </Grid>\n                </Grid.Column>\n                <Grid.Column width='2'/>\n              </Grid.Row>\n            </Grid>\n          </Container>\n        </Responsive>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default MenuPage;\n"]},"metadata":{},"sourceType":"module"}