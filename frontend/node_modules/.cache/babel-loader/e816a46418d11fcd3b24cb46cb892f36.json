{"ast":null,"code":"import _regeneratorRuntime from\"/Users/spoiledhua/Desktop/expresso/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/spoiledhua/Desktop/expresso/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/spoiledhua/Desktop/expresso/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/spoiledhua/Desktop/expresso/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/spoiledhua/Desktop/expresso/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/spoiledhua/Desktop/expresso/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/spoiledhua/Desktop/expresso/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import{Card,Container,Header,Grid,Button,Radio,Form,Divider,Dimmer,Loader}from'semantic-ui-react';import ClientHeader from'./ClientHeader';import{postMakeOrder}from'../Axios/axios_getter';import{getUser}from'../Axios/axios_getter';var OrderPage=/*#__PURE__*/function(_React$Component){_inherits(OrderPage,_React$Component);function OrderPage(){var _getPrototypeOf2;var _this;_classCallCheck(this,OrderPage);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(OrderPage)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={user:null,chargeEligible:null,availabilityConfirm:false,outOfStock:null,payment:true,totalPrice:0,shoppingCart:[],toBeRemoved:null,emptyPopUp:false,eligibilityPopUp:false,confirm:false,remove:false,place:false,loading:false};_this.componentDidMount=function(){_this.setState({loading:true});setTimeout(_this.setInitial,1000);};_this.setInitial=function(){if(JSON.parse(localStorage.getItem('shoppingCart'))!==null){_this.setState({shoppingCart:JSON.parse(localStorage.getItem('shoppingCart'))});}_this.setState({totalPrice:_this.getPrice()});getUser().then(function(user){_this.setState({user:user.user});_this.setState({chargeEligible:user.charge_eligible});});_this.setState({loading:false});};_this.getPrice=function(){var shoppingCart=_this.state.shoppingCart;var price=0;for(var i=0;i<shoppingCart.length;i++){price+=Number(shoppingCart[i].sp[1]);for(var j=0;j<shoppingCart[i].addons.length;j++){price+=Number(shoppingCart[i].addons[j].price);}}return price;};_this.handleFilterItem=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(id){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _this.setState({loading:true});case 2:_context.next=4;return _this.setState(function(prevState){var shoppingCart=prevState.shoppingCart;shoppingCart=shoppingCart.filter(function(item){return item.id!==id;});return{shoppingCart:shoppingCart};});case 4:_context.next=6;return _this.setState({loading:false});case 6:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.handleRemoveItem=function(id){_this.setState({toBeRemoved:id});_this.setState({remove:true});};_this.handleConfirmRemove=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return _this.handleFilterItem(_this.state.toBeRemoved);case 2:_this.setState({totalPrice:_this.getPrice()});localStorage.setItem('shoppingCart',JSON.stringify(_this.state.shoppingCart));_this.handleCloseConfirmRemove();case 5:case\"end\":return _context2.stop();}}},_callee2);}));_this.emptyCart=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return _this.setState({shoppingCart:[]});case 2:localStorage.setItem('shoppingCart',JSON.stringify(_this.state.shoppingCart));case 3:case\"end\":return _context3.stop();}}},_callee3);}));_this.selectPayment=function(payment){_this.setState({payment:payment});};_this.handlePlaceOrder=function(){_this.setState({confirm:true});};_this.postOrder=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(payment){var shoppingCart,items,i,item,addons,j,addon,update,finalUpdate;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:shoppingCart=_this.state.shoppingCart;_context4.next=3;return _this.setState({loading:true});case 3:items=[];for(i=0;i<shoppingCart.length;i++){item=shoppingCart[i];addons=[];for(j=0;j<item.addons.length;j++){addon={name:item.addons[j].name};addons.push(addon);}update={item:{name:item.item.name},addons:addons,sp:item.sp[0]};items.push(update);}finalUpdate={netid:_this.state.user,cost:_this.getPrice(),payment:payment,status:payment,items:items};postMakeOrder(_this.state.user,finalUpdate).then(function(data){if(!data.availability){_this.setState({availabilityConfirm:true});_this.setState({outOfStock:data.item});}else{_this.setState({totalPrice:_this.getPrice()});_this.emptyCart();_this.setState({place:true});}});case 7:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x2){return _ref4.apply(this,arguments);};}();_this.handleConfirm=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_this.setState({loading:true});if(!(_this.state.shoppingCart.length===0)){_context5.next=7;break;}_this.setState({emptyPopUp:true});_this.handleCloseConfirm();_this.setState({loading:false});_context5.next=19;break;case 7:if(!(!_this.state.chargeEligible&&_this.state.payment)){_context5.next=13;break;}_this.setState({eligibilityPopUp:true});_this.handleCloseConfirm();_this.setState({loading:false});_context5.next=19;break;case 13:_context5.next=15;return _this.postOrder(_this.state.payment);case 15:_context5.next=17;return _this.handleCloseConfirm();case 17:_context5.next=19;return _this.setState({loading:false});case 19:case\"end\":return _context5.stop();}}},_callee5);}));_this.handleConfirmPlace=function(){_this.setState({place:true});};_this.handleCloseConfirmPlace=function(){_this.setState({place:false});_this.props.history.push('/menu');};_this.handleCloseEmpty=function(){_this.setState({emptyPopUp:false});};_this.handleCloseEligibility=function(){_this.setState({eligibilityPopUp:false});};_this.handleCloseConfirm=function(){_this.setState({confirm:false});};_this.handleCloseAvailability=function(){_this.setState({availabilityConfirm:false});_this.setState({outOfStock:null});};_this.handleCloseConfirmRemove=function(){_this.setState({toBeRemoved:null});_this.setState({remove:false});};return _this;}_createClass(OrderPage,[{key:\"render\",value:function render(){var _this2=this;var currentOrder=this.state.shoppingCart===0?React.createElement(Header,{as:\"h3\"},\"Your order will show up here!\"):this.state.shoppingCart.map(function(item){return React.createElement(React.Fragment,null,React.createElement(Grid.Row,null,React.createElement(Grid.Column,{width:\"6\"},React.createElement(Header,{as:\"h3\",color:\"grey\"},item.item.name)),React.createElement(Grid.Column,{width:\"4\"},React.createElement(Header,{as:\"h3\",color:\"grey\"},\"$\"+Number(item.sp[1]).toFixed(2))),React.createElement(Grid.Column,{width:\"6\"},React.createElement(Button,{circular:true,icon:\"close\",size:\"mini\",onClick:function onClick(){return _this2.handleRemoveItem(item.id);}}))),item.addons.map(function(addon){return React.createElement(Grid.Row,null,React.createElement(Grid.Column,{width:\"1\"}),React.createElement(Grid.Column,{width:\"5\"},React.createElement(\"span\",null,\"+ \"+addon.name)),React.createElement(Grid.Column,{width:\"4\"},React.createElement(Header,{as:\"h3\",color:\"grey\"},\"$\"+Number(addon.price).toFixed(2))),React.createElement(Grid.Column,{width:\"6\"}));}),React.createElement(Divider,null));});return React.createElement(React.Fragment,null,React.createElement(ClientHeader,{history:this.props.history,shoppingCart:this.state.shoppingCart}),React.createElement(Dimmer,{active:this.state.emptyPopUp,onClickOutside:this.handleCloseEmpty,page:true},React.createElement(Container,{style:{width:'720px'}},React.createElement(Card,{fluid:true},React.createElement(Card.Content,null,React.createElement(Header,{as:\"h3\",color:\"grey\"},\"Add something to your cart to fuel your grind.\")),React.createElement(Button,{onClick:this.handleCloseEmpty},\"Close Window\")))),React.createElement(Dimmer,{active:this.state.eligibilityPopUp,onClickOutside:this.handleCloseEligibility,page:true},React.createElement(Container,{style:{width:'720px'}},React.createElement(Card,{fluid:true},React.createElement(Card.Content,null,React.createElement(Header,{as:\"h3\",color:\"grey\"},\"Sorry, you're not eligible for the student charge option. Please select 'Pay at Store' to place your order.\")),React.createElement(Button,{onClick:this.handleCloseEligibility},\"Close Window\")))),React.createElement(Dimmer,{active:this.state.availabilityConfirm,onClickOutside:this.handleCloseAvailability,page:true},React.createElement(Container,{style:{width:'720px'}},React.createElement(Card,{fluid:true},React.createElement(Card.Content,null,React.createElement(Header,{as:\"h3\",color:\"grey\"},'Sorry, the '+this.state.outOfStock+' is out of stock. Please remove it from your cart to place your order.')),React.createElement(Button,{onClick:this.handleCloseAvailability},\"Close Window\")))),React.createElement(Dimmer,{active:this.state.confirm,onClickOutside:this.handleCloseConfirm,page:true},React.createElement(Container,{style:{width:'720px'}},React.createElement(Card,{fluid:true},React.createElement(Card.Content,null,React.createElement(Header,{as:\"h3\",color:\"grey\"},\"Are you sure you're all finished?\"),React.createElement(Header,{as:\"h4\",color:\"black\"},\"Clicking \\u201CAll Set\\u201D below WILL charge your student account if you selected student charge. If you selected to \\u201Cpay in store\\u201D and do not pay before the end of the day, your student account will be charged.\")),React.createElement(Button.Group,null,React.createElement(Button,{onClick:this.handleCloseConfirm},\"Cancel\"),React.createElement(Button,{positive:true,onClick:this.handleConfirm},\"All Set!\"))))),React.createElement(Dimmer,{active:this.state.remove,onClickOutside:this.handleCloseConfirmRemove,page:true},React.createElement(Container,{style:{width:'720px'}},React.createElement(Card,{fluid:true},React.createElement(Card.Content,null,React.createElement(Header,{as:\"h3\",color:\"grey\"},\"Are you sure want to remove this from your cart?\")),React.createElement(Button.Group,null,React.createElement(Button,{onClick:this.handleCloseConfirmRemove},\"Cancel\"),React.createElement(Button,{negative:true,onClick:function onClick(){return _this2.handleConfirmRemove();}},\"Remove\"))))),React.createElement(Dimmer,{active:this.state.place,onClickOutside:this.handleCloseConfirmPlace,page:true},React.createElement(Container,{style:{width:'720px'}},React.createElement(Card,{fluid:true},React.createElement(Card.Content,null,React.createElement(Header,{as:\"h3\",color:\"grey\"},\"Your order has been placed! It should be ready in around 5-10 minutes. You'll receive an email with the details of your order. Make your way to the Coffee Club to pick up your order!\")),React.createElement(Button,{onClick:this.handleCloseConfirmPlace},\"Return to Menu\")))),React.createElement(Dimmer,{active:this.state.loading,page:true,inverted:true},React.createElement(Loader,{inverted:true},\"Loading\")),React.createElement(Container,{style:{width:'720px'}},React.createElement(Card,{fluid:true},React.createElement(Card.Content,null,React.createElement(Grid,{stackable:true},React.createElement(Grid.Row,null,React.createElement(Grid.Column,null,React.createElement(Header,{as:\"h2\",color:\"black\"},\"1. ORDER\"))),currentOrder),React.createElement(Grid,null,React.createElement(Grid.Row,null,React.createElement(Grid.Column,{width:\"3\"},React.createElement(Header,{as:\"h3\",color:\"black\"},\"Total\")),React.createElement(Grid.Column,{width:\"3\"}),React.createElement(Grid.Column,null,React.createElement(Header,{as:\"h3\",color:\"black\"},\"$\"+this.state.totalPrice.toFixed(2)))))),React.createElement(Card.Content,null,React.createElement(Grid,null,React.createElement(Grid.Row,null,React.createElement(Grid.Column,null,React.createElement(Header,{as:\"h2\",color:\"black\"},\"2. PAYMENT\"))),React.createElement(Grid.Row,null,React.createElement(Grid.Column,null,React.createElement(Form,null,React.createElement(Form.Field,null,React.createElement(Radio,{label:\"Student Charge\",name:\"payment\",checked:this.state.payment,onChange:function onChange(){return _this2.selectPayment(true);}})),React.createElement(Form.Field,null,React.createElement(Radio,{label:\"Pay at Store\",name:\"payment\",checked:!this.state.payment,onChange:function onChange(){return _this2.selectPayment(false);}}))))))),React.createElement(\"div\",null,React.createElement(Button,{floated:\"right\",onClick:this.handlePlaceOrder},\"PLACE ORDER\")))));}}]);return OrderPage;}(React.Component);export default OrderPage;","map":{"version":3,"sources":["/Users/spoiledhua/Desktop/expresso/frontend/src/Components/OrderPage.js"],"names":["React","Card","Container","Header","Grid","Button","Radio","Form","Divider","Dimmer","Loader","ClientHeader","postMakeOrder","getUser","OrderPage","state","user","chargeEligible","availabilityConfirm","outOfStock","payment","totalPrice","shoppingCart","toBeRemoved","emptyPopUp","eligibilityPopUp","confirm","remove","place","loading","componentDidMount","setState","setTimeout","setInitial","JSON","parse","localStorage","getItem","getPrice","then","charge_eligible","price","i","length","Number","sp","j","addons","handleFilterItem","id","prevState","filter","item","handleRemoveItem","handleConfirmRemove","setItem","stringify","handleCloseConfirmRemove","emptyCart","selectPayment","handlePlaceOrder","postOrder","items","addon","name","push","update","finalUpdate","netid","cost","status","data","availability","handleConfirm","handleCloseConfirm","handleConfirmPlace","handleCloseConfirmPlace","props","history","handleCloseEmpty","handleCloseEligibility","handleCloseAvailability","currentOrder","map","toFixed","width","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Card, Container, Header, Grid, Button, Radio, Form, Divider, Dimmer, Loader } from 'semantic-ui-react';\n\nimport ClientHeader from './ClientHeader';\n\nimport { postMakeOrder } from '../Axios/axios_getter';\nimport { getUser } from '../Axios/axios_getter';\n\nclass OrderPage extends React.Component {\n\n  state = {\n    user: null,\n    chargeEligible: null,\n    availabilityConfirm: false,\n    outOfStock: null,\n    payment: true,\n    totalPrice: 0,\n    shoppingCart: [],\n    toBeRemoved: null,\n    emptyPopUp: false,\n    eligibilityPopUp: false,\n    confirm: false,\n    remove: false,\n    place: false,\n    loading: false\n  }\n\n  componentDidMount = () => {\n    this.setState({ loading: true });\n    setTimeout(this.setInitial, 1000);\n  }\n\n  setInitial = () => {\n    if (JSON.parse(localStorage.getItem('shoppingCart')) !== null) {\n      this.setState({ shoppingCart: JSON.parse(localStorage.getItem('shoppingCart'))});\n    }\n    this.setState({ totalPrice: this.getPrice() });\n    getUser()\n      .then(user => {\n        this.setState({ user: user.user });\n        this.setState({ chargeEligible: user.charge_eligible });\n      });\n    this.setState({ loading: false });\n  }\n\n  getPrice = () => {\n    let { shoppingCart } = this.state;\n    let price = 0;\n    for (let i = 0; i < shoppingCart.length; i++) {\n      price += Number(shoppingCart[i].sp[1]);\n      for (let j = 0; j < shoppingCart[i].addons.length; j++) {\n        price += Number(shoppingCart[i].addons[j].price);\n      }\n    }\n    return price;\n  }\n\n  handleFilterItem = async (id) => {\n    await this.setState({ loading: true });\n    await this.setState(prevState => {\n      let shoppingCart = prevState.shoppingCart;\n      shoppingCart = shoppingCart.filter(item => item.id !== id);\n      return { shoppingCart }\n    });\n    await this.setState({ loading: false });\n  }\n\n  handleRemoveItem = (id) => {\n    this.setState({ toBeRemoved: id });\n    this.setState({ remove: true });\n  }\n\n  handleConfirmRemove = async () => {\n    await this.handleFilterItem(this.state.toBeRemoved);\n    this.setState({ totalPrice: this.getPrice() });\n    localStorage.setItem('shoppingCart', JSON.stringify(this.state.shoppingCart));\n    this.handleCloseConfirmRemove();\n  }\n\n  emptyCart = async () => {\n    await this.setState({ shoppingCart: [] });\n    localStorage.setItem('shoppingCart', JSON.stringify(this.state.shoppingCart));\n  }\n\n  selectPayment = (payment) => {\n    this.setState({ payment: payment });\n  }\n\n  handlePlaceOrder = () => {\n    this.setState({ confirm: true });\n  }\n\n  postOrder = async (payment) => {\n\n    const { shoppingCart } = this.state;\n\n    await this.setState({ loading: true });\n\n    let items = [];\n    for (let i = 0; i < shoppingCart.length; i++) {\n      const item = shoppingCart[i];\n      let addons = []\n      for (let j = 0; j < item.addons.length; j++) {\n        const addon = { name: item.addons[j].name };\n        addons.push(addon);\n      }\n      const update = {\n        item: { name: item.item.name },\n        addons: addons,\n        sp: item.sp[0]\n      }\n      items.push(update);\n    }\n\n    const finalUpdate = {\n      netid: this.state.user,\n      cost: this.getPrice(),\n      payment: payment,\n      status: payment,\n      items: items\n    };\n    postMakeOrder(this.state.user, finalUpdate)\n      .then(data => {\n        if (!data.availability) {\n          this.setState({ availabilityConfirm: true });\n          this.setState({ outOfStock: data.item });\n        }\n        else {\n          this.setState({ totalPrice: this.getPrice() });\n          this.emptyCart();\n          this.setState({ place: true });\n        }\n      });\n  }\n\n  handleConfirm = async () => {\n    this.setState({ loading: true });\n    if (this.state.shoppingCart.length === 0) {\n      this.setState({ emptyPopUp: true });\n      this.handleCloseConfirm();\n      this.setState({ loading: false });\n    }\n    else if (!this.state.chargeEligible && this.state.payment) {\n      this.setState({ eligibilityPopUp: true });\n      this.handleCloseConfirm();\n      this.setState({ loading: false });\n    }\n    else {\n      await this.postOrder(this.state.payment);\n      await this.handleCloseConfirm();\n      await this.setState({ loading: false });\n    }\n  }\n\n  handleConfirmPlace = () => {\n    this.setState({ place: true });\n  }\n\n  handleCloseConfirmPlace = () => {\n    this.setState({ place: false });\n    this.props.history.push('/menu');\n  }\n\n  handleCloseEmpty = () => {\n    this.setState({ emptyPopUp: false });\n  }\n\n  handleCloseEligibility = () => {\n    this.setState({ eligibilityPopUp: false });\n  }\n\n  handleCloseConfirm = () => {\n    this.setState({ confirm: false });\n  }\n\n  handleCloseAvailability = () => {\n    this.setState({ availabilityConfirm: false });\n    this.setState({ outOfStock: null });\n  }\n\n  handleCloseConfirmRemove = () => {\n    this.setState({ toBeRemoved: null });\n    this.setState({ remove: false });\n  }\n\n  render() {\n\n    let currentOrder = (this.state.shoppingCart === 0) ?\n    <Header as='h3'>\n      Your order will show up here!\n    </Header> :\n\n    this.state.shoppingCart.map(item => {\n      return (\n        <React.Fragment>\n          <Grid.Row>\n            <Grid.Column width='6'>\n              <Header as='h3' color='grey'>{item.item.name}</Header>\n            </Grid.Column>\n            <Grid.Column width='4'>\n              <Header as='h3' color='grey'>{\"$\" + Number(item.sp[1]).toFixed(2)}</Header>\n            </Grid.Column>\n            <Grid.Column width='6'>\n              <Button circular icon='close' size='mini' onClick={() => this.handleRemoveItem(item.id)}/>\n            </Grid.Column>\n          </Grid.Row>\n          {item.addons.map(addon => {\n            return (\n\n              <Grid.Row>\n                <Grid.Column width='1' />\n                <Grid.Column width='5'>\n                  <span>{\"+ \" + addon.name}</span>\n                </Grid.Column>\n                <Grid.Column width='4'>\n                  <Header as='h3' color='grey'>{\"$\" + Number(addon.price).toFixed(2)}</Header>\n                </Grid.Column>\n                <Grid.Column width='6' />\n              </Grid.Row>\n            )\n          })}\n          <Divider />\n        </React.Fragment>\n      )\n    });\n\n    return (\n      <React.Fragment>\n        <ClientHeader history={this.props.history} shoppingCart={this.state.shoppingCart} />\n        {/* Pop up to confirm empty cart */}\n        <Dimmer active={this.state.emptyPopUp} onClickOutside={this.handleCloseEmpty} page>\n          <Container style={{ width: '720px' }}>\n            <Card fluid>\n              <Card.Content>\n                <Header as='h3' color='grey'>Add something to your cart to fuel your grind.</Header>\n              </Card.Content>\n              <Button onClick={this.handleCloseEmpty}>\n                Close Window\n              </Button>\n            </Card>\n          </Container>\n        </Dimmer>\n        {/* Pop up to confirm charge ineligibility*/}\n        <Dimmer active={this.state.eligibilityPopUp} onClickOutside={this.handleCloseEligibility} page>\n          <Container style={{ width: '720px' }}>\n            <Card fluid>\n              <Card.Content>\n                <Header as='h3' color='grey'>Sorry, you're not eligible for the student charge option. Please select 'Pay at Store' to place your order.</Header>\n              </Card.Content>\n              <Button onClick={this.handleCloseEligibility}>\n                Close Window\n              </Button>\n            </Card>\n          </Container>\n        </Dimmer>\n        {/* Pop up to confirm out of stock */}\n        <Dimmer active={this.state.availabilityConfirm} onClickOutside={this.handleCloseAvailability} page>\n          <Container style={{ width: '720px' }}>\n            <Card fluid>\n              <Card.Content>\n                <Header as='h3' color='grey'>{'Sorry, the ' + this.state.outOfStock + ' is out of stock. Please remove it from your cart to place your order.'}</Header>\n              </Card.Content>\n              <Button onClick={this.handleCloseAvailability}>\n                Close Window\n              </Button>\n            </Card>\n          </Container>\n        </Dimmer>\n        {/* Pop up to confirm order */}\n        <Dimmer active={this.state.confirm} onClickOutside={this.handleCloseConfirm} page>\n          <Container style={{ width: '720px' }}>\n            <Card fluid>\n              <Card.Content>\n                <Header as='h3' color='grey'>Are you sure you're all finished?</Header>\n                <Header as='h4' color='black'>\n                  Clicking “All Set” below WILL charge your student account if you selected student charge.\n                  If you selected to “pay in store” and do not pay before the end of the day, your student\n                  account will be charged.\n                </Header>\n              </Card.Content>\n              <Button.Group>\n                <Button onClick={this.handleCloseConfirm}>Cancel</Button>\n                <Button positive onClick={this.handleConfirm}>All Set!</Button>\n              </Button.Group>\n            </Card>\n          </Container>\n        </Dimmer>\n        {/* Pop up to confirm removal */}\n        <Dimmer active={this.state.remove} onClickOutside={this.handleCloseConfirmRemove} page>\n          <Container style={{ width: '720px' }}>\n            <Card fluid>\n              <Card.Content>\n                <Header as='h3' color='grey'>Are you sure want to remove this from your cart?</Header>\n              </Card.Content>\n              <Button.Group>\n                <Button onClick={this.handleCloseConfirmRemove}>Cancel</Button>\n                <Button negative onClick={() => this.handleConfirmRemove()}>Remove</Button>\n              </Button.Group>\n            </Card>\n          </Container>\n        </Dimmer>\n        {/* Pop up to confirm order has been placed */}\n        <Dimmer active={this.state.place} onClickOutside={this.handleCloseConfirmPlace} page>\n          <Container style={{ width: '720px' }}>\n            <Card fluid>\n              <Card.Content>\n                <Header as='h3' color='grey'>\n                  Your order has been placed! It should be ready in around 5-10 minutes.\n                  You'll receive an email with the details of your order. Make your way\n                  to the Coffee Club to pick up your order!\n                </Header>\n              </Card.Content>\n              <Button onClick={this.handleCloseConfirmPlace}>Return to Menu</Button>\n            </Card>\n          </Container>\n        </Dimmer>\n        {/* Dimmer for loading */}\n        <Dimmer active={this.state.loading} page inverted>\n          <Loader inverted>Loading</Loader>\n        </Dimmer>\n\n        {/* Main component */}\n        <Container style={{ width: '720px' }}>\n          <Card fluid>\n            <Card.Content>\n              <Grid stackable>\n                <Grid.Row>\n                  <Grid.Column>\n                    <Header as='h2' color='black'>1. ORDER</Header>\n                  </Grid.Column>\n                </Grid.Row>\n                {currentOrder}\n              </Grid>\n              <Grid>\n                <Grid.Row>\n                  <Grid.Column width='3'>\n                    <Header as='h3' color='black'>Total</Header>\n                  </Grid.Column>\n                  <Grid.Column width='3' />\n                  <Grid.Column>\n                    <Header as='h3' color='black'>{\"$\" + this.state.totalPrice.toFixed(2)}</Header>\n                  </Grid.Column>\n                </Grid.Row>\n              </Grid>\n            </Card.Content>\n            <Card.Content>\n              <Grid>\n                <Grid.Row>\n                  <Grid.Column>\n                    <Header as='h2' color='black'>2. PAYMENT</Header>\n                  </Grid.Column>\n                </Grid.Row>\n                <Grid.Row>\n                  <Grid.Column>\n                    <Form>\n                      <Form.Field>\n                        <Radio\n                          label='Student Charge'\n                          name='payment'\n                          checked={this.state.payment}\n                          onChange={() => this.selectPayment(true)}\n                        />\n                      </Form.Field>\n                      <Form.Field>\n                        <Radio\n                          label='Pay at Store'\n                          name='payment'\n                          checked={!this.state.payment}\n                          onChange={() => this.selectPayment(false)}\n                        />\n                      </Form.Field>\n                    </Form>\n                  </Grid.Column>\n                </Grid.Row>\n              </Grid>\n            </Card.Content>\n            <div>\n              <Button floated='right' onClick={this.handlePlaceOrder}>\n                PLACE ORDER\n              </Button>\n            </div>\n          </Card>\n        </Container>\n      </React.Fragment>\n\n    );\n  }\n}\n\nexport default OrderPage;\n"]},"metadata":{},"sourceType":"module"}