{"ast":null,"code":"import _regeneratorRuntime from\"/Users/spoiledhua/Desktop/expresso/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/spoiledhua/Desktop/expresso/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/spoiledhua/Desktop/expresso/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/spoiledhua/Desktop/expresso/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/spoiledhua/Desktop/expresso/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/spoiledhua/Desktop/expresso/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/spoiledhua/Desktop/expresso/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import{Menu,Icon,Image,Container,Header,Grid,Responsive,Dropdown,Button,Divider,Dimmer,Loader}from'semantic-ui-react';import{getDayHistory,getAllHistory}from'../Axios/axios_getter';var BaristaHistory=/*#__PURE__*/function(_React$Component){_inherits(BaristaHistory,_React$Component);function BaristaHistory(){var _getPrototypeOf2;var _this;_classCallCheck(this,BaristaHistory);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(BaristaHistory)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={dayHistory:[],allHistory:[],showAll:false,loading:false};_this.componentDidMount=function(){_this.setState({loading:true});_this.getDayHistory();_this.getAllHistory();_this.setState({loading:false});var intervalFunctionDay=setInterval(_this.getDayHistory,10000);var intervalFunctionAll=setInterval(_this.getAllHistory,10000);};_this.getDayHistory=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getDayHistory().then(function(dayHistory){_this.setState({dayHistory:dayHistory});}).catch(function(error){console.log(error);_this.setState({dayHistory:[]});});case 2:case\"end\":return _context.stop();}}},_callee);}));_this.getAllHistory=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return getAllHistory().then(function(allHistory){_this.setState({allHistory:allHistory});}).catch(function(error){console.log(error);_this.setState({allHistory:[]});});case 2:case\"end\":return _context2.stop();}}},_callee2);}));return _this;}_createClass(BaristaHistory,[{key:\"render\",value:function render(){var _this$state=this.state,dayHistory=_this$state.dayHistory,allHistory=_this$state.allHistory,showAll=_this$state.showAll;var historyType=showAll?allHistory:dayHistory;var history=historyType.length==0?React.createElement(Header,{as:\"h3\"},\":)\"):React.createElement(React.Fragment,null,historyType.map(function(history){var paymentType=history.payment?\"Student Charge\":\"In-Store\";return React.createElement(Grid.Row,null,React.createElement(Grid.Column,{width:\"2\",verticalAlign:\"middle\",style:{textAlign:'center'}},React.createElement(\"p\",null,history.time)),React.createElement(Grid.Column,{width:\"8\",verticalAlign:\"middle\"},history.item.map(function(subitem){return React.createElement(React.Fragment,null,React.createElement(\"h2\",{style:{margin:'0'}},subitem),React.createElement(Divider,null));})),React.createElement(Grid.Column,{width:\"2\",verticalAlign:\"middle\"},React.createElement(\"h3\",null,'$'+history.cost.toFixed(2))),React.createElement(Grid.Column,{verticalAlign:\"middle\",width:\"2\"},React.createElement(\"h3\",null,history.netid)),React.createElement(Grid.Column,{verticalAlign:\"middle\",width:\"2\"},React.createElement(\"p\",null,paymentType)));}));return React.createElement(React.Fragment,null,React.createElement(Dimmer,{active:this.state.loading,inverted:true,page:true},React.createElement(Loader,{inverted:true},\"Loading\")),React.createElement(Grid,{stackable:true,divided:\"vertically\"},history));}}]);return BaristaHistory;}(React.Component);export default BaristaHistory;","map":{"version":3,"sources":["/Users/spoiledhua/Desktop/expresso/frontend/src/Components/BaristaHistory.js"],"names":["React","Menu","Icon","Image","Container","Header","Grid","Responsive","Dropdown","Button","Divider","Dimmer","Loader","getDayHistory","getAllHistory","BaristaHistory","state","dayHistory","allHistory","showAll","loading","componentDidMount","setState","intervalFunctionDay","setInterval","intervalFunctionAll","then","catch","error","console","log","historyType","history","length","map","paymentType","payment","textAlign","time","item","subitem","margin","cost","toFixed","netid","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Menu, Icon, Image, Container, Header, Grid, Responsive, Dropdown, Button, Divider, Dimmer, Loader } from 'semantic-ui-react';\n\nimport { getDayHistory, getAllHistory } from '../Axios/axios_getter';\n\nclass BaristaHistory extends React.Component {\n\n  state = {\n    dayHistory: [],\n    allHistory: [],\n    showAll: false,\n    loading: false\n  }\n\n  componentDidMount = () => {\n    this.setState({ loading: true });\n    this.getDayHistory();\n    this.getAllHistory();\n    this.setState({ loading: false });\n    let intervalFunctionDay = setInterval(this.getDayHistory, 10000);\n    let intervalFunctionAll = setInterval(this.getAllHistory, 10000);\n  }\n\n  getDayHistory = async () => {\n    await getDayHistory()\n      .then(dayHistory => {\n        this.setState({ dayHistory: dayHistory });\n      })\n      .catch(error => {\n        console.log(error);\n        this.setState({ dayHistory: [] });\n      });\n  }\n\n  getAllHistory = async () => {\n    await getAllHistory()\n      .then(allHistory => {\n        this.setState({ allHistory: allHistory });\n      })\n      .catch(error => {\n        console.log(error);\n        this.setState({ allHistory: [] });\n      });\n  }\n\n    render() {\n\n      const { dayHistory, allHistory, showAll } = this.state;\n\n      let historyType = (showAll) ? allHistory : dayHistory;\n\n      let history = (historyType.length == 0) ?\n      <Header as='h3'>\n        :)\n      </Header> :\n\n      <React.Fragment>\n        {historyType.map(history => {\n          let paymentType = (history.payment) ? \"Student Charge\" : \"In-Store\";\n          return (\n            <Grid.Row>\n              <Grid.Column width='2' verticalAlign='middle' style={{textAlign:'center'}}>\n                <p>{history.time}</p>\n              </Grid.Column>\n              <Grid.Column width='8' verticalAlign='middle'>\n                {history.item.map(subitem => {\n                  return (\n                    <React.Fragment>\n                      <h2 style={{margin: '0'}}>{subitem}</h2>\n                      <Divider />\n                    </React.Fragment>\n                  )\n                })}\n              </Grid.Column>\n              <Grid.Column width='2' verticalAlign='middle'>\n                <h3>{'$' + history.cost.toFixed(2)}</h3>\n              </Grid.Column>\n              <Grid.Column verticalAlign='middle' width='2'>\n                <h3>{history.netid}</h3>\n              </Grid.Column>\n              <Grid.Column verticalAlign='middle' width='2'>\n                <p>{paymentType}</p>\n              </Grid.Column>\n            </Grid.Row>\n          )\n        })}\n      </React.Fragment>\n\n\n        return (\n            <React.Fragment>\n              <Dimmer active={this.state.loading} inverted page>\n                <Loader inverted>Loading</Loader>\n              </Dimmer>\n              <Grid stackable divided='vertically'>\n                {history}\n              </Grid>\n            </React.Fragment>\n\n        );\n    }\n}\n\nexport default BaristaHistory\n"]},"metadata":{},"sourceType":"module"}