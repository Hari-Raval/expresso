{"ast":null,"code":"import _regeneratorRuntime from\"/Users/spoiledhua/Desktop/expresso/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/spoiledhua/Desktop/expresso/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/spoiledhua/Desktop/expresso/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/spoiledhua/Desktop/expresso/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/spoiledhua/Desktop/expresso/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/spoiledhua/Desktop/expresso/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/spoiledhua/Desktop/expresso/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import{Header,Grid,Button,Divider,Dimmer,Loader}from'semantic-ui-react';import BaristaHeader from'./BaristaHeader';import{getBaristaOrders,postInProgress,postComplete,postPaid}from'../Axios/axios_getter';var BaristaOrders=/*#__PURE__*/function(_React$Component){_inherits(BaristaOrders,_React$Component);function BaristaOrders(){var _getPrototypeOf2;var _this;_classCallCheck(this,BaristaOrders);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(BaristaOrders)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={allOrders:[],loading:false};_this.componentDidMount=function(){_this.setState({loading:true});setTimeout(_this.getPendingOrders,1000);setInterval(_this.getPendingOrders,10000);};_this.getPendingOrders=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log('entered');_context.next=3;return getBaristaOrders().then(function(allOrders){_this.setState({allOrders:allOrders});}).catch(function(error){console.log(error);_this.setState({allOrders:[]});});case 3:_this.setState({loading:false});case 4:case\"end\":return _context.stop();}}},_callee);}));_this.handleInProgress=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_this.setState({loading:true});_context2.next=3;return postInProgress(id);case 3:setTimeout(_this.getPendingOrders,1000);_this.setState({loading:false});case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x){return _ref2.apply(this,arguments);};}();_this.handleComplete=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(id){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_this.setState({loading:true});_context3.next=3;return postComplete(id);case 3:setTimeout(_this.getPendingOrders,1000);_this.setState({loading:false});case 5:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x2){return _ref3.apply(this,arguments);};}();_this.handlePaid=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(id){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_this.setState({loading:true});_context4.next=3;return postPaid(id);case 3:setTimeout(_this.getPendingOrders,1000);_this.setState({loading:false});case 5:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x3){return _ref4.apply(this,arguments);};}();return _this;}_createClass(BaristaOrders,[{key:\"render\",value:function render(){var _this2=this;var allOrders=this.state.allOrders;var pendingOrders=allOrders.length===0?React.createElement(Header,{as:\"h3\"},\":)\"):this.state.allOrders.map(function(order){return React.createElement(React.Fragment,null,React.createElement(Grid.Row,null,React.createElement(Grid.Column,{verticalAlign:\"middle\",width:\"2\",style:{textAlign:'center'}},React.createElement(\"h1\",null,order.orderid)),React.createElement(Grid.Column,{width:\"6\"},order.item.map(function(subitem){return React.createElement(React.Fragment,null,React.createElement(\"h2\",{style:{margin:'0'}},subitem),React.createElement(Divider,null));}),React.createElement(\"h3\",{style:{margin:'0'}},order.netid),React.createElement(\"p\",null,order.time)),React.createElement(Grid.Column,{width:\"3\",verticalAlign:\"middle\"},React.createElement(Button,{circular:true,disabled:order.order_status,onClick:function onClick(){return _this2.handleInProgress(order.orderid);},style:{background:'#F98F69'}},\"IN PROGRESS\")),React.createElement(Grid.Column,{width:\"3\",verticalAlign:\"middle\"},React.createElement(Button,{circular:true,disabled:!order.status,onClick:function onClick(){return _this2.handleComplete(order.orderid);},style:{background:'#B7E4A9'}},\"COMPLETE\")),React.createElement(Grid.Column,{width:\"2\",verticalAlign:\"middle\"},order.status?React.createElement(Header,{as:\"h3\"},\"PAID\"):React.createElement(Button,{circular:true,onClick:function onClick(){return _this2.handlePaid(order.orderid);},color:\"red\"},\"PENDING\"))));});return React.createElement(React.Fragment,null,React.createElement(BaristaHeader,{history:this.props.history}),React.createElement(Dimmer,{active:this.state.loading,inverted:true,page:true},React.createElement(Loader,{inverted:true},\"Loading\")),React.createElement(Grid,{stackable:true,divided:\"vertically\"},pendingOrders));}}]);return BaristaOrders;}(React.Component);export default BaristaOrders;","map":{"version":3,"sources":["/Users/spoiledhua/Desktop/expresso/frontend/src/Components/BaristaOrders.js"],"names":["React","Header","Grid","Button","Divider","Dimmer","Loader","BaristaHeader","getBaristaOrders","postInProgress","postComplete","postPaid","BaristaOrders","state","allOrders","loading","componentDidMount","setState","setTimeout","getPendingOrders","setInterval","console","log","then","catch","error","handleInProgress","id","handleComplete","handlePaid","pendingOrders","length","map","order","textAlign","orderid","item","subitem","margin","netid","time","order_status","background","status","props","history","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Header, Grid, Button, Divider, Dimmer, Loader} from 'semantic-ui-react';\n\nimport BaristaHeader from './BaristaHeader';\nimport { getBaristaOrders, postInProgress, postComplete, postPaid } from '../Axios/axios_getter';\n\nclass BaristaOrders extends React.Component {\n\n  state = {\n    allOrders: [],\n    loading: false\n  }\n\n  componentDidMount = () => {\n    this.setState({ loading: true });\n    setTimeout(this.getPendingOrders, 1000);\n    setInterval(this.getPendingOrders, 10000);\n  }\n\n  getPendingOrders = async () => {\n    console.log('entered')\n    await getBaristaOrders()\n      .then(allOrders => {\n        this.setState({ allOrders: allOrders });\n      })\n      .catch(error => {\n        console.log(error);\n        this.setState({ allOrders: [] });\n      });\n    this.setState({ loading: false });\n  }\n\n  handleInProgress = async (id) => {\n    this.setState({ loading: true });\n    await postInProgress(id);\n    setTimeout(this.getPendingOrders, 1000);\n    this.setState({ loading: false });\n  }\n\n  handleComplete = async (id) => {\n    this.setState({ loading: true });\n    await postComplete(id);\n    setTimeout(this.getPendingOrders, 1000);\n    this.setState({ loading: false });\n  }\n\n  handlePaid = async (id) => {\n    this.setState({ loading: true });\n    await postPaid(id);\n    setTimeout(this.getPendingOrders, 1000);\n    this.setState({ loading: false });\n  }\n\n  render() {\n\n    const { allOrders } = this.state;\n\n    let pendingOrders = (allOrders.length === 0) ?\n    <Header as='h3'>\n      :)\n    </Header> :\n\n    this.state.allOrders.map(order => {\n      return (\n        <React.Fragment>\n          <Grid.Row>\n            <Grid.Column verticalAlign='middle' width='2' style={{textAlign:'center'}}>\n              <h1>{order.orderid}</h1>\n            </Grid.Column>\n            <Grid.Column width='6'>\n              {order.item.map(subitem => {\n                return (\n                  <React.Fragment>\n                    <h2 style={{margin: '0'}}>{subitem}</h2>\n                    <Divider />\n                  </React.Fragment>\n                )\n              })}\n              <h3 style={{margin: '0'}}>{order.netid}</h3>\n              <p>{order.time}</p>\n            </Grid.Column>\n            <Grid.Column width='3' verticalAlign='middle'>\n              <Button circular disabled={order.order_status} onClick={() => this.handleInProgress(order.orderid)} style={{background: '#F98F69'}}>IN PROGRESS</Button>\n            </Grid.Column>\n            <Grid.Column width='3' verticalAlign='middle'>\n              <Button circular disabled={!order.status} onClick={() => this.handleComplete(order.orderid)} style={{background: '#B7E4A9'}}>COMPLETE</Button>\n            </Grid.Column>\n            <Grid.Column width='2' verticalAlign='middle'>\n              {order.status ? <Header as='h3'>PAID</Header> : <Button circular onClick={() => this.handlePaid(order.orderid)} color='red'>PENDING</Button>}\n            </Grid.Column>\n          </Grid.Row>\n        </React.Fragment>\n      )\n    });\n\n    return (\n      <React.Fragment>\n        <BaristaHeader history={this.props.history} />\n        <Dimmer active={this.state.loading} inverted page>\n          <Loader inverted>Loading</Loader>\n        </Dimmer>\n        <Grid stackable divided='vertically'>\n          {/*  new row for every order*/}\n          {pendingOrders}\n        </Grid>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default BaristaOrders;\n"]},"metadata":{},"sourceType":"module"}